SCPT
SCHD nc_comp3Script_frwar 27 0 20 3695 349
SCVR see_warlord;doOnce;doOnce2;doOnce3;doOnce4;combatDone;weapUse;combatCheck;soundPlayed;flyCheck;wwCheck;oneTimeMove;compMove;c_move;warp;c_marksman;c_speed;c_athletics;companion;nohello;noLore;counter;counter2;addOnce;p_Check;emb_hook_nominion;call;ax;ay;bx;by;bz;cx;cy;cz;t1;t2;t3;t4;coDist;coDist2;playz;timer;timer2;sheatheTimer;moveTimer;h_check;;
SCDT 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
SCTX
    begin nc_comp3Script_frwar
    
    float ax
    float ay
    float bx
    float by
    float bz
    float cx
    float cy
    float cz
    float t1
    float t2
    float t3
    float t4
    float coDist
    float coDist2
    float playz
    float timer
    float timer2
    float sheatheTimer
    float moveTimer
    float h_check
    short see_warlord
    short doOnce
    short doOnce2
    short doOnce3
    short doOnce4
    short combatDone
    short weapUse
    short combatCheck
    short soundPlayed
    short flyCheck
    short wwCheck
    short oneTimeMove
    short compMove
    short c_move
    short warp
    short c_marksman
    short c_speed
    short c_athletics
    short companion
    short nohello
    short noLore
    short counter
    short counter2
    short addOnce
    short p_Check
    short emb_hook_nominion
    short call
    
    if ( MenuMode == 1 )
      ;if ( GetPCSleep == 0 )
        return
      ;endif
    endif
    
    set emb_hook_nominion to 1
    
    if ( GetDisabled == 1 )
    	set counter2 to ( counter2 + 1 )
    	if ( counter2 < 10 )
    		return
    	endif
    	setdelete 1
    	return
    endif
    
    if ( weapUse == 1 )
      if ( Player->GetWeaponType <= 8 )
        setmarksman 0
      elseif ( weapUse == 1 )
      if ( Player->GetWeaponType >= 9 )
        setmarksman 200
      endif
      endif
    endif
    
    if ( combatCheck == 1 )
      set sheathetimer to sheatheTimer + GetSecondsPassed
      if ( GetSoundPlaying, "Weapon Swish" == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, crossbowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, bowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "Weapon Swish" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "crossbowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "bowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      endif
      endif
      endif
      endif
    endif
    
    if ( soundPlayed == 1 )
      equip "silver dagger"
      removeitem "silver dagger" 1
    ;  messagebox "Working"
      set soundPlayed to 0
      set combatCheck to 0
      set combatDone to 1
    endif
    
    if ( combatDone == 1 )
        set timer to timer + GetSecondsPassed
      if ( timer > 6 )
        set timer to 0
        set combatDone to 0
        set warp to 0
      endif
    endif  
    
    if ( GetCurrentAIPackage == 3 )
      ;if ( GetPCSleep == 1 )
       ; StartScript 1gr_compLevel
      ;endif
    
      if ( GetPCSneaking == 1 )
        ForceSneak
      elseif ( GetPCSneaking == 0 )
        ClearForceSneak
      endif
    
      if ( Player->GetEffect sEffectLevitate == 1 )
      if ( flyCheck == 0 )
        cast nc_comp2_lev_bog player
        addspell nc_comp2_lev
        set flyCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectLevitate == 0 )
      if ( flyCheck == 1 )
        removespell nc_comp2_lev
        set flyCheck to 0
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 1 )
      if ( wwCheck == 0 )
        cast nc_comp2_ww_bog player
        addspell nc_comp2_ww
        set wwCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 0 )
      if ( wwCheck == 1 )
        removespell nc_comp2_ww
        set wwCheck to 0
      endif
      endif
    
      if ( flyCheck == 1 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( Player->GetPos z )
        SetPos z playz
      elseif ( flyCheck == 1 )
      if ( GetCurrentAIPackage != 3 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( GetPos z )
        SetPos z playz
      endif
      endif
      endif
      endif
    
      if ( GetWeaponDrawn == 1 )
      if ( flyCheck == 0 )
        set combatCheck to 1
        set timer to 0
        set warp to 1
        return
      elseif ( GetWeaponDrawn == 1 )
      if ( flyCheck == 1 )
        set combatDone to 1
        set timer to 0
        set warp to 1
        return
      endif
      endif
      endif
    
      set ax to ( Player->GetPos x )
      set ay to ( Player->GetPos y )
    
      if ( doOnce == 0 )
        set bx to ( Player->GetPos x )
        set by to ( Player->GetPos y )
        set bz to ( Player->GetPos z )
        set doOnce to 1
      endif
    
      set t1 to ( ax - bx )
      set t1 to ( t1 * t1 )
      set t2 to ( ay - by )
      set t2 to ( t2 * t2 )
      set t1 to ( t1 + t2 )
      set coDist to ( GetSquareRoot, t1 )
    
      if ( coDist > 360 )
        set doOnce to 0
      endif
    
      if ( coDist > 180 )
      if ( doOnce2 == 0 )
        set cx to ( Player->GetPos x )
        set cy to ( Player->GetPos y )
        set cz to ( Player->GetPos z )
        set doOnce2 to 1
      endif
      endif
    
      set t3 to ( ax - cx )
      set t3 to ( t3 * t3 )
      set t4 to ( ay - cy )
      set t4 to ( t4 * t4 )
      set t3 to ( t3 + t4 )
      set coDist2 to ( GetSquareRoot, t3 )
    
      if ( coDist2 > 360 )
        set doOnce2 to 0
      endif
    
      if ( warp == 0 )
      if ( coDist > 350 )
      if ( GetDistance Player > 680 )
        SetPos x bx
        SetPos y by
        SetPos z bz
        AiFollow Player 0 0 0 0
      elseif ( warp == 0 )
      if ( coDist2 > 350 )
      if ( GetDistance Player > 680 )
        SetPos x cx
        SetPos y cy
        SetPos z cz
        AiFollow Player 0 0 0 0
      endif
      endif
      endif
      endif
      endif
    endif
    
    ;IF ADDITIONS ARE DESIRED, PLEASE ADD THEM BELOW HERE...
    
    if ( GetCurrentAIPackage == 3 )
      if ( compMove == 1 )
      if ( c_move == 0 )
      if ( GetDistance Player < 70 )
        AIWander 300 0 0 0 0
        set c_move to 1
      endif
      endif
      endif
    endif
    
    if ( c_move == 1 )
      if ( GetDistance Player > 100 )
        AIFollow Player 0 0 0 0
      set c_move to 0
      endif
    endif
    
    if ( oneTimeMove == 1 )
      set moveTimer to moveTimer + GetSecondsPassed
      if ( moveTimer > 4 )
        set moveTimer to 0
        AiFollow Player 0 0 0 0
        set oneTimeMove to 0
      endif
    endif
    
    if ( call == 0 )
    	if ( nc_callwar == 1 )
    		AIWander 0 0 0
    		set call to 1
    	elseif ( nc_callwar == 2 )
    		AIFollow player 0 0 0 0
    		set call to 2
    	elseif ( nc_callwar == 3 )
    		AIWander 500 0 0
    		set call to 3
    	endif
    	if ( nc_callmessage == 0 )
    		set nc_callmessage to 1
    	endif
    endif
    
    if ( nc_callwar == 0 )
    	set call to 0
    endif
    
    ;AND ABOVE HERE.
    
    ;ADDITIONS CAN ALSO BE ADDED TO THIS FOLLOWING SECTION, BUT BEWARE OF THE COUNTER.
    ;Counter can pooch some functions if they need to be checked every frame.
    
    if ( counter < 20 )
      set counter to counter + 1
      return
    endif
    
    set counter to 0
    
    if ( GetCurrentAIPackage == 3 )
      if ( GetDistance Player < 300 )
        setSpeed 15
        setAthletics 15
      elseif ( GetDistance Player > 300 )
        set c_speed to ( ( Player->GetSpeed ) * 2.25 )
        set c_athletics to ( ( Player->GetAthletics ) * 2.25 )
        setSpeed  c_speed
        setAthletics c_athletics
      endif
    
      if ( GetItemCount p_restore_health_b >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_c >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_e >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_q >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_s >= 1 )
        set p_Check to 1
      else
        set p_Check to 0
      endif
    endif
    
    if ( GetCurrentAIPackage != 3 )
      setspeed 40
    endif
    
    ;ADD ADDITIONAL TOPICS IN THIS SECTION IF REQUIRED.
    
    if ( addOnce == 0 )
     AddTopic "- Бой"
      AddTopic "- Сопровождение"
      AddTopic "- Инструкции"
      ;StartScript 1gr_compLevel
      set companion to 1
      set addOnce to 1
    endif
    
    if ( HasItemEquipped "nc_head_rags" != 1 )
    	if ( GetItemCount,  "nc_head_rags" >= 1 )
    		Equip "nc_head_rags"
    	endif
    endif
    
    if ( HasItemEquipped "nc_fr_mummy_pants" != 1 )
    	if ( GetItemCount,  "nc_fr_mummy_pants" >= 1 )
    		Equip "nc_fr_mummy_pants"
    	endif
    endif
    
    if ( HasItemEquipped "nc_fr_mummy_shirt" != 1 )
    	if ( GetItemCount,  "nc_fr_mummy_shirt" >= 1 )
    		Equip "nc_fr_mummy_shirt"
    	endif
    endif
    
    if ( GetItemCount,  "nc_head_rags" < 1 )
    	if ( doOnce4 == 0 )
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "nc_fr_mummy_pants" < 1 )
    	if ( doOnce4 == 0 )
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "nc_fr_mummy_shirt" < 1 )
    	if ( doOnce4 == 0 )
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_bonemeal_01" < 10 )
    	if ( doOnce4 == 0 )
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_scrap_metal_01" < 1 )
    	if ( doOnce4 == 0 )
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_netch_leather_01" < 1 )
    	if ( doOnce4 == 0 )
    		sethealth 0
    		set doOnce4 to 1
    	endif
    endif
    
    ;if ( OnDeath = 1 )
    if ( GetHealth <= 5 )
    	if ( doOnce3 == 0 )
    		PlaySound, "ThunderClap"
    		PlaceAtMe "nc_frost_cured" 1 1 1
    		set nc_fr_warlord_glob to 0
    		disable
    		player->modcurrenthealth -20
    		MessageBox "Чары распались. Вы чувствуете острую боль, как будто вам что-то перерезали."
    		set doOnce3 to 1
    	endif
    endif
    
    end
    
    
    

SCPT
SCHD nc_comp3Script_fwar 27 0 20 3685 349
SCVR see_warlord;doOnce;doOnce2;doOnce3;doOnce4;combatDone;weapUse;combatCheck;soundPlayed;flyCheck;wwCheck;oneTimeMove;compMove;c_move;warp;c_marksman;c_speed;c_athletics;companion;nohello;noLore;counter;counter2;addOnce;p_Check;emb_hook_nominion;call;ax;ay;bx;by;bz;cx;cy;cz;t1;t2;t3;t4;coDist;coDist2;playz;timer;timer2;sheatheTimer;moveTimer;h_check;;
SCDT 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
SCTX
    begin nc_comp3Script_fwar
    
    float ax
    float ay
    float bx
    float by
    float bz
    float cx
    float cy
    float cz
    float t1
    float t2
    float t3
    float t4
    float coDist
    float coDist2
    float playz
    float timer
    float timer2
    float sheatheTimer
    float moveTimer
    float h_check
    short see_warlord
    short doOnce
    short doOnce2
    short doOnce3
    short doOnce4
    short combatDone
    short weapUse
    short combatCheck
    short soundPlayed
    short flyCheck
    short wwCheck
    short oneTimeMove
    short compMove
    short c_move
    short warp
    short c_marksman
    short c_speed
    short c_athletics
    short companion
    short nohello
    short noLore
    short counter
    short counter2
    short addOnce
    short p_Check
    short emb_hook_nominion
    short call
    
    if ( MenuMode == 1 )
      ;if ( GetPCSleep == 0 )
        return
      ;endif
    endif
    
    set emb_hook_nominion to 1
    
    if ( GetDisabled == 1 )
    	set counter2 to ( counter2 + 1 )
    	if ( counter2 < 10 )
    		return
    	endif
    	setdelete 1
    	return
    endif
    
    if ( weapUse == 1 )
      if ( Player->GetWeaponType <= 8 )
        setmarksman 0
      elseif ( weapUse == 1 )
      if ( Player->GetWeaponType >= 9 )
        setmarksman 200
      endif
      endif
    endif
    
    if ( combatCheck == 1 )
      set sheathetimer to sheatheTimer + GetSecondsPassed
      if ( GetSoundPlaying, "Weapon Swish" == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, crossbowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, bowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "Weapon Swish" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "crossbowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "bowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      endif
      endif
      endif
      endif
    endif
    
    if ( soundPlayed == 1 )
      equip "silver dagger"
      removeitem "silver dagger" 1
    ;  messagebox "Working"
      set soundPlayed to 0
      set combatCheck to 0
      set combatDone to 1
    endif
    
    if ( combatDone == 1 )
        set timer to timer + GetSecondsPassed
      if ( timer > 6 )
        set timer to 0
        set combatDone to 0
        set warp to 0
      endif
    endif  
    
    if ( GetCurrentAIPackage == 3 )
      ;if ( GetPCSleep == 1 )
       ; StartScript 1gr_compLevel
      ;endif
    
      if ( GetPCSneaking == 1 )
        ForceSneak
      elseif ( GetPCSneaking == 0 )
        ClearForceSneak
      endif
    
      if ( Player->GetEffect sEffectLevitate == 1 )
      if ( flyCheck == 0 )
        cast nc_comp2_lev_bog player
        addspell nc_comp2_lev
        set flyCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectLevitate == 0 )
      if ( flyCheck == 1 )
        removespell nc_comp2_lev
        set flyCheck to 0
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 1 )
      if ( wwCheck == 0 )
        cast nc_comp2_ww_bog player
        addspell nc_comp2_ww
        set wwCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 0 )
      if ( wwCheck == 1 )
        removespell nc_comp2_ww
        set wwCheck to 0
      endif
      endif
    
      if ( flyCheck == 1 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( Player->GetPos z )
        SetPos z playz
      elseif ( flyCheck == 1 )
      if ( GetCurrentAIPackage != 3 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( GetPos z )
        SetPos z playz
      endif
      endif
      endif
      endif
    
      if ( GetWeaponDrawn == 1 )
      if ( flyCheck == 0 )
        set combatCheck to 1
        set timer to 0
        set warp to 1
        return
      elseif ( GetWeaponDrawn == 1 )
      if ( flyCheck == 1 )
        set combatDone to 1
        set timer to 0
        set warp to 1
        return
      endif
      endif
      endif
    
      set ax to ( Player->GetPos x )
      set ay to ( Player->GetPos y )
    
      if ( doOnce == 0 )
        set bx to ( Player->GetPos x )
        set by to ( Player->GetPos y )
        set bz to ( Player->GetPos z )
        set doOnce to 1
      endif
    
      set t1 to ( ax - bx )
      set t1 to ( t1 * t1 )
      set t2 to ( ay - by )
      set t2 to ( t2 * t2 )
      set t1 to ( t1 + t2 )
      set coDist to ( GetSquareRoot, t1 )
    
      if ( coDist > 360 )
        set doOnce to 0
      endif
    
      if ( coDist > 180 )
      if ( doOnce2 == 0 )
        set cx to ( Player->GetPos x )
        set cy to ( Player->GetPos y )
        set cz to ( Player->GetPos z )
        set doOnce2 to 1
      endif
      endif
    
      set t3 to ( ax - cx )
      set t3 to ( t3 * t3 )
      set t4 to ( ay - cy )
      set t4 to ( t4 * t4 )
      set t3 to ( t3 + t4 )
      set coDist2 to ( GetSquareRoot, t3 )
    
      if ( coDist2 > 360 )
        set doOnce2 to 0
      endif
    
      if ( warp == 0 )
      if ( coDist > 350 )
      if ( GetDistance Player > 680 )
        SetPos x bx
        SetPos y by
        SetPos z bz
        AiFollow Player 0 0 0 0
      elseif ( warp == 0 )
      if ( coDist2 > 350 )
      if ( GetDistance Player > 680 )
        SetPos x cx
        SetPos y cy
        SetPos z cz
        AiFollow Player 0 0 0 0
      endif
      endif
      endif
      endif
      endif
    endif
    
    ;IF ADDITIONS ARE DESIRED, PLEASE ADD THEM BELOW HERE...
    
    if ( GetCurrentAIPackage == 3 )
      if ( compMove == 1 )
      if ( c_move == 0 )
      if ( GetDistance Player < 70 )
        AIWander 300 0 0 0 0
        set c_move to 1
      endif
      endif
      endif
    endif
    
    if ( c_move == 1 )
      if ( GetDistance Player > 100 )
        AIFollow Player 0 0 0 0
      set c_move to 0
      endif
    endif
    
    if ( oneTimeMove == 1 )
      set moveTimer to moveTimer + GetSecondsPassed
      if ( moveTimer > 4 )
        set moveTimer to 0
        AiFollow Player 0 0 0 0
        set oneTimeMove to 0
      endif
    endif
    
    if ( call == 0 )
    	if ( nc_callwar == 1 )
    		AIWander 0 0 0
    		set call to 1
    	elseif ( nc_callwar == 2 )
    		AIFollow player 0 0 0 0
    		set call to 2
    	elseif ( nc_callwar == 3 )
    		AIWander 500 0 0
    		set call to 3
    	endif
    	if ( nc_callmessage == 0 )
    		set nc_callmessage to 1
    	endif
    endif
    
    if ( nc_callwar == 0 )
    	set call to 0
    endif
    
    ;AND ABOVE HERE.
    
    ;ADDITIONS CAN ALSO BE ADDED TO THIS FOLLOWING SECTION, BUT BEWARE OF THE COUNTER.
    ;Counter can pooch some functions if they need to be checked every frame.
    
    if ( counter < 20 )
      set counter to counter + 1
      return
    endif
    
    set counter to 0
    
    if ( GetCurrentAIPackage == 3 )
      if ( GetDistance Player < 300 )
        setSpeed 15
        setAthletics 15
      elseif ( GetDistance Player > 300 )
        set c_speed to ( ( Player->GetSpeed ) * 2.25 )
        set c_athletics to ( ( Player->GetAthletics ) * 2.25 )
        setSpeed  c_speed
        setAthletics c_athletics
      endif
    
      if ( GetItemCount p_restore_health_b >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_c >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_e >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_q >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_s >= 1 )
        set p_Check to 1
      else
        set p_Check to 0
      endif
    endif
    
    if ( GetCurrentAIPackage != 3 )
      setspeed 40
    endif
    
    ;ADD ADDITIONAL TOPICS IN THIS SECTION IF REQUIRED.
    
    if ( addOnce == 0 )
      AddTopic "- Бой"
      AddTopic "- Сопровождение"
      AddTopic "- Инструкции"
      ;StartScript 1gr_compLevel
      set companion to 1
      set addOnce to 1
    endif
    
    if ( HasItemEquipped "nc_head_rags" != 1 )
    	if ( GetItemCount,  "nc_head_rags" >= 1 )
    		Equip "nc_head_rags"
    	endif
    endif
    
    if ( HasItemEquipped "nc_f_mummy_pants" != 1 )
    	if ( GetItemCount,  "nc_f_mummy_pants" >= 1 )
    		Equip "nc_f_mummy_pants"
    	endif
    endif
    
    if ( HasItemEquipped "nc_f_mummy_shirt" != 1 )
    	if ( GetItemCount,  "nc_f_mummy_shirt" >= 1 )
    		Equip "nc_f_mummy_shirt"
    	endif
    endif
    
    if ( GetItemCount,  "nc_head_rags" < 1 )
    	if ( doOnce4 == 0 )
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "nc_f_mummy_pants" < 1 )
    	if ( doOnce4 == 0 )
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "nc_f_mummy_shirt" < 1 )
    	if ( doOnce4 == 0 )
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_bonemeal_01" < 10 )
    	if ( doOnce4 == 0 )
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_scrap_metal_01" < 1 )
    	if ( doOnce4 == 0 )
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_netch_leather_01" < 1 )
    	if ( doOnce4 == 0 )
    		sethealth 0
    		set doOnce4 to 1
    	endif
    endif
    
    ;if ( OnDeath = 1 )
    if ( GetHealth <= 5 )
    	if ( doOnce3 == 0 )
    		PlaySound, "ThunderClap"
    		PlaceAtMe "nc_fire_cured" 1 1 1
    		set nc_f_warlord_glob to 0
    		disable
    		player->modcurrenthealth -20
    		MessageBox "Чары распались. Вы чувствуете острую боль, как будто вам что-то перерезали."
    		set doOnce3 to 1
    	endif
    endif
    
    end
    
    
    

SCPT
SCHD nc_comp3Script_pwar 28 0 20 3686 357
SCVR see_warlord;doOnce;doOnce2;doOnce3;doOnce4;doOnce5;combatDone;weapUse;combatCheck;soundPlayed;flyCheck;wwCheck;oneTimeMove;compMove;c_move;warp;c_marksman;c_speed;c_athletics;companion;nohello;noLore;counter;counter2;addOnce;p_Check;emb_hook_nominion;call;ax;ay;bx;by;bz;cx;cy;cz;t1;t2;t3;t4;coDist;coDist2;playz;timer;timer2;sheatheTimer;moveTimer;h_check;;
SCDT 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
SCTX
    begin nc_comp3Script_pwar
    
    float ax
    float ay
    float bx
    float by
    float bz
    float cx
    float cy
    float cz
    float t1
    float t2
    float t3
    float t4
    float coDist
    float coDist2
    float playz
    float timer
    float timer2
    float sheatheTimer
    float moveTimer
    float h_check
    short see_warlord
    short doOnce
    short doOnce2
    short doOnce3
    short doOnce4
    short doOnce5
    short combatDone
    short weapUse
    short combatCheck
    short soundPlayed
    short flyCheck
    short wwCheck
    short oneTimeMove
    short compMove
    short c_move
    short warp
    short c_marksman
    short c_speed
    short c_athletics
    short companion
    short nohello
    short noLore
    short counter
    short counter2
    short addOnce
    short p_Check
    short emb_hook_nominion
    short call
    
    if ( MenuMode == 1 )
      ;if ( GetPCSleep == 0 )
        return
      ;endif
    endif
    
    set emb_hook_nominion to 1
    
    if ( GetDisabled == 1 )
    	set counter2 to ( counter2 + 1 )
    	if ( counter2 < 10 )
    		return
    	endif
    	setdelete 1
    	return
    endif
    
    if ( weapUse == 1 )
      if ( Player->GetWeaponType <= 8 )
        setmarksman 0
      elseif ( weapUse == 1 )
      if ( Player->GetWeaponType >= 9 )
        setmarksman 200
      endif
      endif
    endif
    
    if ( combatCheck == 1 )
      set sheathetimer to sheatheTimer + GetSecondsPassed
      if ( GetSoundPlaying, "Weapon Swish" == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, crossbowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, bowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "Weapon Swish" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "crossbowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "bowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      endif
      endif
      endif
      endif
    endif
    
    if ( soundPlayed == 1 )
      equip "silver dagger"
      removeitem "silver dagger" 1
    ;  messagebox "Working"
      set soundPlayed to 0
      set combatCheck to 0
      set combatDone to 1
    endif
    
    if ( combatDone == 1 )
        set timer to timer + GetSecondsPassed
      if ( timer > 6 )
        set timer to 0
        set combatDone to 0
        set warp to 0
      endif
    endif  
    
    if ( GetCurrentAIPackage == 3 )
      ;if ( GetPCSleep == 1 )
       ; StartScript 1gr_compLevel
      ;endif
    
      if ( GetPCSneaking == 1 )
        ForceSneak
      elseif ( GetPCSneaking == 0 )
        ClearForceSneak
      endif
    
      if ( Player->GetEffect sEffectLevitate == 1 )
      if ( flyCheck == 0 )
        cast nc_comp2_lev_bog player
        addspell nc_comp2_lev
        set flyCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectLevitate == 0 )
      if ( flyCheck == 1 )
        removespell nc_comp2_lev
        set flyCheck to 0
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 1 )
      if ( wwCheck == 0 )
        cast nc_comp2_ww_bog player
        addspell nc_comp2_ww
        set wwCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 0 )
      if ( wwCheck == 1 )
        removespell nc_comp2_ww
        set wwCheck to 0
      endif
      endif
    
      if ( flyCheck == 1 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( Player->GetPos z )
        SetPos z playz
      elseif ( flyCheck == 1 )
      if ( GetCurrentAIPackage != 3 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( GetPos z )
        SetPos z playz
      endif
      endif
      endif
      endif
    
      if ( GetWeaponDrawn == 1 )
      if ( flyCheck == 0 )
        set combatCheck to 1
        set timer to 0
        set warp to 1
        return
      elseif ( GetWeaponDrawn == 1 )
      if ( flyCheck == 1 )
        set combatDone to 1
        set timer to 0
        set warp to 1
        return
      endif
      endif
      endif
    
      set ax to ( Player->GetPos x )
      set ay to ( Player->GetPos y )
    
      if ( doOnce == 0 )
        set bx to ( Player->GetPos x )
        set by to ( Player->GetPos y )
        set bz to ( Player->GetPos z )
        set doOnce to 1
      endif
    
      set t1 to ( ax - bx )
      set t1 to ( t1 * t1 )
      set t2 to ( ay - by )
      set t2 to ( t2 * t2 )
      set t1 to ( t1 + t2 )
      set coDist to ( GetSquareRoot, t1 )
    
      if ( coDist > 360 )
        set doOnce to 0
      endif
    
      if ( coDist > 180 )
      if ( doOnce2 == 0 )
        set cx to ( Player->GetPos x )
        set cy to ( Player->GetPos y )
        set cz to ( Player->GetPos z )
        set doOnce2 to 1
      endif
      endif
    
      set t3 to ( ax - cx )
      set t3 to ( t3 * t3 )
      set t4 to ( ay - cy )
      set t4 to ( t4 * t4 )
      set t3 to ( t3 + t4 )
      set coDist2 to ( GetSquareRoot, t3 )
    
      if ( coDist2 > 360 )
        set doOnce2 to 0
      endif
    
      if ( warp == 0 )
      if ( coDist > 350 )
      if ( GetDistance Player > 680 )
        SetPos x bx
        SetPos y by
        SetPos z bz
        AiFollow Player 0 0 0 0
      elseif ( warp == 0 )
      if ( coDist2 > 350 )
      if ( GetDistance Player > 680 )
        SetPos x cx
        SetPos y cy
        SetPos z cz
        AiFollow Player 0 0 0 0
      endif
      endif
      endif
      endif
      endif
    endif
    
    ;IF ADDITIONS ARE DESIRED, PLEASE ADD THEM BELOW HERE...
    
    
    
    if ( GetCurrentAIPackage == 3 )
      if ( compMove == 1 )
      if ( c_move == 0 )
      if ( GetDistance Player < 70 )
        AIWander 300 0 0 0 0
        set c_move to 1
      endif
      endif
      endif
    endif
    
    if ( c_move == 1 )
      if ( GetDistance Player > 100 )
        AIFollow Player 0 0 0 0
      set c_move to 0
      endif
    endif
    
    if ( oneTimeMove == 1 )
      set moveTimer to moveTimer + GetSecondsPassed
      if ( moveTimer > 4 )
        set moveTimer to 0
        AiFollow Player 0 0 0 0
        set oneTimeMove to 0
      endif
    endif
    
    if ( call == 0 )
    	if ( nc_callwar == 1 )
    		AIWander 0 0 0
    		set call to 1
    	elseif ( nc_callwar == 2 )
    		AIFollow player 0 0 0 0
    		set call to 2
    	elseif ( nc_callwar == 3 )
    		AIWander 500 0 0
    		set call to 3
    	endif
    	if ( nc_callmessage == 0 )
    		set nc_callmessage to 1
    	endif
    endif
    
    if ( nc_callwar == 0 )
    	set call to 0
    endif
    
    ;AND ABOVE HERE.
    
    ;ADDITIONS CAN ALSO BE ADDED TO THIS FOLLOWING SECTION, BUT BEWARE OF THE COUNTER.
    ;Counter can pooch some functions if they need to be checked every frame.
    
    if ( counter < 20 )
      set counter to counter + 1
      return
    endif
    
    set counter to 0
    
    if ( GetCurrentAIPackage == 3 )
      if ( GetDistance Player < 300 )
        setSpeed 15
        setAthletics 15
      elseif ( GetDistance Player > 300 )
        set c_speed to ( ( Player->GetSpeed ) * 2.25 )
        set c_athletics to ( ( Player->GetAthletics ) * 2.25 )
        setSpeed  c_speed
        setAthletics c_athletics
      endif
    
      if ( GetItemCount p_restore_health_b >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_c >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_e >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_q >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_s >= 1 )
        set p_Check to 1
      else
        set p_Check to 0
      endif
    endif
    
    if ( GetCurrentAIPackage != 3 )
      setspeed 40
    endif
    
    ;ADD ADDITIONAL TOPICS IN THIS SECTION IF REQUIRED.
    
    if ( addOnce == 0 )
      AddTopic "- Бой"
      AddTopic "- Сопровождение"
      AddTopic "- Инструкции"
      ;StartScript 1gr_compLevel
      set companion to 1
      set addOnce to 1
    endif
    
    if ( HasItemEquipped "nc_head_rags" != 1 )
    	if ( GetItemCount,  "nc_head_rags" >= 1 )
    		Equip "nc_head_rags"
    	endif
    endif
    
    if ( HasItemEquipped "nc_p_mummy_pants" != 1 )
    	if ( GetItemCount,  "nc_p_mummy_pants" >= 1 )
    		Equip "nc_p_mummy_pants"
    	endif
    endif
    
    if ( HasItemEquipped "nc_p_mummy_shirt" != 1 )
    	if ( GetItemCount,  "nc_p_mummy_shirt" >= 1 )
    		Equip "nc_p_mummy_shirt"
    	endif
    endif
    
    if ( GetItemCount,  "nc_head_rags" < 1 )
    	if ( doOnce4 == 0 )
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "nc_p_mummy_pants" < 1 )
    	if ( doOnce4 == 0 )
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "nc_p_mummy_shirt" < 1 )
    	if ( doOnce4 == 0 )
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_bonemeal_01" < 10 )
    	if ( doOnce4 == 0 )
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_scrap_metal_01" < 1 )
    	if ( doOnce4 == 0 )
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_netch_leather_01" < 1 )
    	if ( doOnce4 == 0 )
    		sethealth 0
    		set doOnce4 to 1
    	endif
    endif
    
    ;if ( OnDeath = 1 )
    if ( GetHealth <= 5 )
    	if ( doOnce3 == 0 )
    		PlaySound, "ThunderClap"
    		PlaceAtMe "nc_poison_cured" 1 1 1
    		set nc_p_warlord_glob to 0
    		disable
    		player->modcurrenthealth -20
    		MessageBox "Чары распались. Вы чувствуете острую боль, как бдто вам что-то перерезали."
    		set doOnce3 to 1
    	endif
    endif
    
    end
    

SCPT
SCHD nc_comp3Script_arg 33 0 20 4366 410
SCVR see_f_warlord;see_fr_warlord;see_p_warlord;doOnce;doOnce2;doOnce3;doOnce4;combatDone;weapUse;combatCheck;soundPlayed;flyCheck;wwCheck;oneTimeMove;compMove;c_move;warp;c_marksman;c_speed;c_athletics;companion;nohello;noLore;counter;counter2;addOnce;p_Check;emb_hook_nominion;call;doOnce5;travel;free;posession;ax;ay;bx;by;bz;cx;cy;cz;t1;t2;t3;t4;coDist;coDist2;playz;timer;timer2;sheatheTimer;moveTimer;h_check;;
SCDT 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
SCTX
    begin nc_comp3Script_arg
    
    float ax
    float ay
    float bx
    float by
    float bz
    float cx
    float cy
    float cz
    float t1
    float t2
    float t3
    float t4
    float coDist
    float coDist2
    float playz
    float timer
    float timer2
    float sheatheTimer
    float moveTimer
    float h_check
    short see_f_warlord
    short see_fr_warlord
    short see_p_warlord
    short doOnce
    short doOnce2
    short doOnce3
    short doOnce4
    short combatDone
    short weapUse
    short combatCheck
    short soundPlayed
    short flyCheck
    short wwCheck
    short oneTimeMove
    short compMove
    short c_move
    short warp
    short c_marksman
    short c_speed
    short c_athletics
    short companion
    short nohello
    short noLore
    short counter
    short counter2
    short addOnce
    short p_Check
    short emb_hook_nominion
    short call
    short doOnce5
    short travel
    short free
    short posession
    
    if ( MenuMode == 1 )
      ;if ( GetPCSleep == 0 )
        return
      ;endif
    endif
    
    set emb_hook_nominion to 1
    
    if ( GetDisabled == 1 )
    	set counter2 to ( counter2 + 1 )
    	if ( counter2 < 10 )
    		return
    	endif
    	setdelete 1
    	return
    endif
    
    if ( weapUse == 1 )
      if ( Player->GetWeaponType <= 8 )
        setmarksman 0
      elseif ( weapUse == 1 )
      if ( Player->GetWeaponType >= 9 )
        setmarksman 200
      endif
      endif
    endif
    
    if ( combatCheck == 1 )
      set sheathetimer to sheatheTimer + GetSecondsPassed
      if ( GetSoundPlaying, "Weapon Swish" == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, crossbowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, bowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "Weapon Swish" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "crossbowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "bowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      endif
      endif
      endif
      endif
    endif
    
    if ( soundPlayed == 1 )
      equip "silver dagger"
      removeitem "silver dagger" 1
    ;  messagebox "Working"
      set soundPlayed to 0
      set combatCheck to 0
      set combatDone to 1
    endif
    
    if ( combatDone == 1 )
        set timer to timer + GetSecondsPassed
      if ( timer > 6 )
        set timer to 0
        set combatDone to 0
        set warp to 0
      endif
    endif  
    
    if ( GetCurrentAIPackage == 3 )
      ;if ( GetPCSleep == 1 )
       ; StartScript 1gr_compLevel
      ;endif
    
      if ( GetPCSneaking == 1 )
        ForceSneak
      elseif ( GetPCSneaking == 0 )
        ClearForceSneak
      endif
    
      if ( Player->GetEffect sEffectLevitate == 1 )
      if ( flyCheck == 0 )
        cast nc_comp2_lev_bog player
        addspell nc_comp2_lev
        set flyCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectLevitate == 0 )
      if ( flyCheck == 1 )
        removespell nc_comp2_lev
        set flyCheck to 0
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 1 )
      if ( wwCheck == 0 )
        cast nc_comp2_ww_bog player
        addspell nc_comp2_ww
        set wwCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 0 )
      if ( wwCheck == 1 )
        removespell nc_comp2_ww
        set wwCheck to 0
      endif
      endif
    
      if ( flyCheck == 1 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( Player->GetPos z )
        SetPos z playz
      elseif ( flyCheck == 1 )
      if ( GetCurrentAIPackage != 3 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( GetPos z )
        SetPos z playz
      endif
      endif
      endif
      endif
    
      if ( GetWeaponDrawn == 1 )
      if ( flyCheck == 0 )
        set combatCheck to 1
        set timer to 0
        set warp to 1
        return
      elseif ( GetWeaponDrawn == 1 )
      if ( flyCheck == 1 )
        set combatDone to 1
        set timer to 0
        set warp to 1
        return
      endif
      endif
      endif
    
      set ax to ( Player->GetPos x )
      set ay to ( Player->GetPos y )
    
      if ( doOnce == 0 )
        set bx to ( Player->GetPos x )
        set by to ( Player->GetPos y )
        set bz to ( Player->GetPos z )
        set doOnce to 1
      endif
    
      set t1 to ( ax - bx )
      set t1 to ( t1 * t1 )
      set t2 to ( ay - by )
      set t2 to ( t2 * t2 )
      set t1 to ( t1 + t2 )
      set coDist to ( GetSquareRoot, t1 )
    
      if ( coDist > 360 )
        set doOnce to 0
      endif
    
      if ( coDist > 180 )
      if ( doOnce2 == 0 )
        set cx to ( Player->GetPos x )
        set cy to ( Player->GetPos y )
        set cz to ( Player->GetPos z )
        set doOnce2 to 1
      endif
      endif
    
      set t3 to ( ax - cx )
      set t3 to ( t3 * t3 )
      set t4 to ( ay - cy )
      set t4 to ( t4 * t4 )
      set t3 to ( t3 + t4 )
      set coDist2 to ( GetSquareRoot, t3 )
    
      if ( coDist2 > 360 )
        set doOnce2 to 0
      endif
    
    if ( see_f_warlord == 0 )
    	if ( see_fr_warlord == 0 )
    		if ( see_p_warlord == 0 )
      if ( warp == 0 )
      if ( coDist > 350 )
      if ( GetDistance Player > 680 )
        SetPos x bx
        SetPos y by
        SetPos z bz
        AiFollow Player 0 0 0 0
      elseif ( warp == 0 )
      if ( coDist2 > 350 )
      if ( GetDistance Player > 680 )
        SetPos x cx
        SetPos y cy
        SetPos z cz
        AiFollow Player 0 0 0 0
      endif
      endif
      endif
      endif
      endif
    endif
    endif
    endif
    endif
    
    if ( see_f_warlord == 1 )
    if ( nc_f_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_fr_warlord == 1 )
    if ( nc_fr_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_p_warlord == 1 )
    if ( nc_p_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    ;IF ADDITIONS ARE DESIRED, PLEASE ADD THEM BELOW HERE...
    
    if ( call == 0 )
    	if ( nc_callrev == 1 )
    		AIWander 0 0 0
    		set call to 1
    	elseif ( nc_callrev == 2 )
    		AIFollow player 0 0 0 0
    		set call to 2
    	elseif ( nc_callrev == 3 )
    		AIWander 500 0 0
    		set call to 3
    	endif
    	if ( nc_callmessage == 0 )
    		set nc_callmessage to 1
    	endif
    endif
    
    if ( nc_callrev == 0 )
    	set call to 0
    endif
    
    if ( GetCurrentAIPackage == 3 )
      if ( compMove == 1 )
      if ( c_move == 0 )
      if ( GetDistance Player < 70 )
        AIWander 300 0 0 0 0
        set c_move to 1
      endif
      endif
      endif
    endif
    
    if ( c_move == 1 )
      if ( GetDistance Player > 100 )
        AIFollow Player 0 0 0 0
      set c_move to 0
      endif
    endif
    
    if ( oneTimeMove == 1 )
      set moveTimer to moveTimer + GetSecondsPassed
      if ( moveTimer > 4 )
        set moveTimer to 0
        AiFollow Player 0 0 0 0
        set oneTimeMove to 0
      endif
    endif
    
    if ( travel > 0 )
    	if ( CellChanged == 0 )
    		if ( travel == 1 )
         		AIWander 500 0 0
    			PositionCell -23265.2344, -15409.3721, 556.0000, 0, "Balmora"
    			set travel to 0
    		endif 
    		if ( travel == 2 )
         		AIWander 500 0 0
    			PositionCell -14688.3975, 52477.6445, 2119.9502, 0, "Ald-ruhn"
    			set travel to 0
    		endif 
    		if ( travel == 3 )
         		AIWander 500 0 0
    			PositionCell 48308.0547, -81831.6328, 576.7466, 0, "Vivec"
    			set travel to 0
    		endif 
    		if ( travel == 4 )
         		AIWander 500 0 0
    			PositionCell 105102.6641, -61811.3477, 635.0835, 0, "Molag Mar"
    			set travel to 0
    		endif 
    		if ( travel == 5 )
         		AIWander 500 0 0
    			PositionCell 149019.1250, 29684.0938, 700.0000, 0, "Wolverine Hall"
    			set travel to 0
    		endif 
    		if ( travel == 6 )
         		AIWander 500 0 0
    			PositionCell 98660.6641, 111530.5625, 308.0195, 0, "Vos"
    			set travel to 0
    		endif 
    		if ( travel == 7 )
         		AIWander 500 0 0
    			PositionCell 59803.8828, 183183.3594, 314.2573, 0, "Dagon Fel"
    			set travel to 0
    		endif 
    		if ( travel == 8 )
         		AIWander 500 0 0
    			PositionCell -67142.3594, 139129.8594, 205.1514, 0, "Khuul"
    			set travel to 0
    		endif 
    		if ( travel == 9 )
         		AIWander 500 0 0
    			PositionCell -84440.8203, 92241.1953, 1054.9253, 0, "Gnisis"
    			set travel to 0
    		endif 
    		if ( travel == 10 )
         		AIWander 500 0 0
    			PositionCell 20736.9922, 38396.8008, 1161.2622, 0, "Ghostgate"
    			set travel to 0
    		endif
    		if ( travel == 11 )
         		AIWander 500 0 0
    			PositionCell -5.3433, 2476.1021, 173.3262, 0, "Mournhold, Plaza Brindisi Dorom"
    			set travel to 0
    		endif 
    	endif
    endif
    
    ;AND ABOVE HERE.
    
    ;ADDITIONS CAN ALSO BE ADDED TO THIS FOLLOWING SECTION, BUT BEWARE OF THE COUNTER.
    ;Counter can pooch some functions if they need to be checked every frame.
    
    if ( counter < 20 )
      set counter to counter + 1
      return
    endif
    
    set counter to 0
    
    if ( GetCurrentAIPackage == 3 )
      if ( GetDistance Player < 300 )
        setSpeed 15
        setAthletics 15
      elseif ( GetDistance Player > 300 )
        set c_speed to ( ( Player->GetSpeed ) * 2.25 )
        set c_athletics to ( ( Player->GetAthletics ) * 2.25 )
        setSpeed  c_speed
        setAthletics c_athletics
      endif
    
      if ( GetItemCount p_restore_health_b >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_c >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_e >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_q >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_s >= 1 )
        set p_Check to 1
      else
        set p_Check to 0
      endif
    endif
    
    if ( GetCurrentAIPackage != 3 )
      setspeed 40
    endif
    
    ;ADD ADDITIONAL TOPICS IN THIS SECTION IF REQUIRED.
    
    if ( addOnce == 0 )
      AddTopic "- Бой"
      AddTopic "- Сопровождение"
      AddTopic "- Инструкции"
      ;StartScript 1gr_compLevel
      set companion to 1
      set posession to 1
      set addOnce to 1
    endif
    
    if ( GetItemCount,  "nc_argonian_skull" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_bonemeal_01" < 25 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_scrap_metal_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_netch_leather_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    endif
    
    ;if ( OnDeath = 1 )
    if ( GetHealth <= 5 )
    	if ( doOnce3 == 0 )
    		PlaySound, "ThunderClap"
    		AddItem "nc_arg_pauldron_sk" 1
    		set doOnce3 to 1
    	endif
    	if ( doOnce5 == 0 )
    		if ( GetItemCount "nc_arg_pauldron_sk" < 1 )
    			set doOnce5 to 1
    			Disable
    		endif
    	endif
    endif
    
    end
    
    

SCPT
SCHD nc_comp3Script_bret 34 0 20 4371 419
SCVR see_f_warlord;see_fr_warlord;see_p_warlord;doOnce;doOnce2;doOnce3;doOnce4;combatDone;weapUse;combatCheck;soundPlayed;flyCheck;wwCheck;oneTimeMove;compMove;c_move;warp;c_marksman;c_speed;c_athletics;companion;nohello;noLore;counter;counter2;addOnce;p_Check;ncdoonce;emb_hook_nominion;call;doOnce5;travel;free;posession;ax;ay;bx;by;bz;cx;cy;cz;t1;t2;t3;t4;coDist;coDist2;playz;timer;timer2;sheatheTimer;moveTimer;h_check;;
SCDT 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
SCTX
    begin nc_comp3Script_bret
    
    float ax
    float ay
    float bx
    float by
    float bz
    float cx
    float cy
    float cz
    float t1
    float t2
    float t3
    float t4
    float coDist
    float coDist2
    float playz
    float timer
    float timer2
    float sheatheTimer
    float moveTimer
    float h_check
    short see_f_warlord
    short see_fr_warlord
    short see_p_warlord
    short doOnce
    short doOnce2
    short doOnce3
    short doOnce4
    short combatDone
    short weapUse
    short combatCheck
    short soundPlayed
    short flyCheck
    short wwCheck
    short oneTimeMove
    short compMove
    short c_move
    short warp
    short c_marksman
    short c_speed
    short c_athletics
    short companion
    short nohello
    short noLore
    short counter
    short counter2
    short addOnce
    short p_Check
    short ncdoonce
    short emb_hook_nominion
    short call
    short doOnce5
    short travel
    short free
    short posession
    
    if ( MenuMode == 1 )
      ;if ( GetPCSleep == 0 )
        return
      ;endif
    endif
    
    set emb_hook_nominion to 1
    
    if ( GetDisabled == 1 )
    	set counter2 to ( counter2 + 1 )
    	if ( counter2 < 10 )
    		return
    	endif
    	setdelete 1
    	return
    endif
    
    if ( weapUse == 1 )
      if ( Player->GetWeaponType <= 8 )
        setmarksman 0
      elseif ( weapUse == 1 )
      if ( Player->GetWeaponType >= 9 )
        setmarksman 200
      endif
      endif
    endif
    
    if ( combatCheck == 1 )
      set sheathetimer to sheatheTimer + GetSecondsPassed
      if ( GetSoundPlaying, "Weapon Swish" == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, crossbowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, bowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "Weapon Swish" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "crossbowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "bowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      endif
      endif
      endif
      endif
    endif
    
    if ( soundPlayed == 1 )
      equip "silver dagger"
      removeitem "silver dagger" 1
    ;  messagebox "Working"
      set soundPlayed to 0
      set combatCheck to 0
      set combatDone to 1
    endif
    
    if ( combatDone == 1 )
        set timer to timer + GetSecondsPassed
      if ( timer > 6 )
        set timer to 0
        set combatDone to 0
        set warp to 0
      endif
    endif  
    
    if ( GetCurrentAIPackage == 3 )
      ;if ( GetPCSleep == 1 )
       ; StartScript 1gr_compLevel
      ;endif
    
      if ( GetPCSneaking == 1 )
        ForceSneak
      elseif ( GetPCSneaking == 0 )
        ClearForceSneak
      endif
    
      if ( Player->GetEffect sEffectLevitate == 1 )
      if ( flyCheck == 0 )
        cast nc_comp2_lev_bog player
        addspell nc_comp2_lev
        set flyCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectLevitate == 0 )
      if ( flyCheck == 1 )
        removespell nc_comp2_lev
        set flyCheck to 0
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 1 )
      if ( wwCheck == 0 )
        cast nc_comp2_ww_bog player
        addspell nc_comp2_ww
        set wwCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 0 )
      if ( wwCheck == 1 )
        removespell nc_comp2_ww
        set wwCheck to 0
      endif
      endif
    
      if ( flyCheck == 1 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( Player->GetPos z )
        SetPos z playz
      elseif ( flyCheck == 1 )
      if ( GetCurrentAIPackage != 3 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( GetPos z )
        SetPos z playz
      endif
      endif
      endif
      endif
    
      if ( GetWeaponDrawn == 1 )
      if ( flyCheck == 0 )
        set combatCheck to 1
        set timer to 0
        set warp to 1
        return
      elseif ( GetWeaponDrawn == 1 )
      if ( flyCheck == 1 )
        set combatDone to 1
        set timer to 0
        set warp to 1
        return
      endif
      endif
      endif
    
      set ax to ( Player->GetPos x )
      set ay to ( Player->GetPos y )
    
      if ( doOnce == 0 )
        set bx to ( Player->GetPos x )
        set by to ( Player->GetPos y )
        set bz to ( Player->GetPos z )
        set doOnce to 1
      endif
    
      set t1 to ( ax - bx )
      set t1 to ( t1 * t1 )
      set t2 to ( ay - by )
      set t2 to ( t2 * t2 )
      set t1 to ( t1 + t2 )
      set coDist to ( GetSquareRoot, t1 )
    
      if ( coDist > 360 )
        set doOnce to 0
      endif
    
      if ( coDist > 180 )
      if ( doOnce2 == 0 )
        set cx to ( Player->GetPos x )
        set cy to ( Player->GetPos y )
        set cz to ( Player->GetPos z )
        set doOnce2 to 1
      endif
      endif
    
      set t3 to ( ax - cx )
      set t3 to ( t3 * t3 )
      set t4 to ( ay - cy )
      set t4 to ( t4 * t4 )
      set t3 to ( t3 + t4 )
      set coDist2 to ( GetSquareRoot, t3 )
    
      if ( coDist2 > 360 )
        set doOnce2 to 0
      endif
    
    if ( see_f_warlord == 0 )
    	if ( see_fr_warlord == 0 )
    		if ( see_p_warlord == 0 )
      if ( warp == 0 )
      if ( coDist > 350 )
      if ( GetDistance Player > 680 )
        SetPos x bx
        SetPos y by
        SetPos z bz
        AiFollow Player 0 0 0 0
      elseif ( warp == 0 )
      if ( coDist2 > 350 )
      if ( GetDistance Player > 680 )
        SetPos x cx
        SetPos y cy
        SetPos z cz
        AiFollow Player 0 0 0 0
      endif
      endif
      endif
      endif
      endif
    endif
    endif
    endif
    endif
    
    if ( see_f_warlord == 1 )
    if ( nc_f_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_fr_warlord == 1 )
    if ( nc_fr_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_p_warlord == 1 )
    if ( nc_p_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    ;IF ADDITIONS ARE DESIRED, PLEASE ADD THEM BELOW HERE...
    
    if ( GetCurrentAIPackage == 3 )
      if ( compMove == 1 )
      if ( c_move == 0 )
      if ( GetDistance Player < 70 )
        AIWander 300 0 0 0 0
        set c_move to 1
      endif
      endif
      endif
    endif
    
    if ( c_move == 1 )
      if ( GetDistance Player > 100 )
        AIFollow Player 0 0 0 0
      set c_move to 0
      endif
    endif
    
    if ( oneTimeMove == 1 )
      set moveTimer to moveTimer + GetSecondsPassed
      if ( moveTimer > 4 )
        set moveTimer to 0
        AiFollow Player 0 0 0 0
        set oneTimeMove to 0
      endif
    endif
    
    if ( call == 0 )
    	if ( nc_callrev == 1 )
    		AIWander 0 0 0
    		set call to 1
    	elseif ( nc_callrev == 2 )
    		AIFollow player 0 0 0 0
    		set call to 2
    	elseif ( nc_callrev == 3 )
    		AIWander 500 0 0
    		set call to 3
    	endif
    	if ( nc_callmessage == 0 )
    		set nc_callmessage to 1
    	endif
    endif
    
    if ( nc_callrev == 0 )
    	set call to 0
    endif
    
    if ( travel > 0 )
    	if ( CellChanged == 0 )
    		if ( travel == 1 )
         		AIWander 500 0 0
    			PositionCell -23265.2344, -15409.3721, 556.0000, 0, "Balmora"
    			set travel to 0
    		endif 
    		if ( travel == 2 )
         		AIWander 500 0 0
    			PositionCell -14688.3975, 52477.6445, 2119.9502, 0, "Ald-ruhn"
    			set travel to 0
    		endif 
    		if ( travel == 3 )
         		AIWander 500 0 0
    			PositionCell 48308.0547, -81831.6328, 576.7466, 0, "Vivec"
    			set travel to 0
    		endif 
    		if ( travel == 4 )
         		AIWander 500 0 0
    			PositionCell 105102.6641, -61811.3477, 635.0835, 0, "Molag Mar"
    			set travel to 0
    		endif 
    		if ( travel == 5 )
         		AIWander 500 0 0
    			PositionCell 149019.1250, 29684.0938, 700.0000, 0, "Wolverine Hall"
    			set travel to 0
    		endif 
    		if ( travel == 6 )
         		AIWander 500 0 0
    			PositionCell 98660.6641, 111530.5625, 308.0195, 0, "Vos"
    			set travel to 0
    		endif 
    		if ( travel == 7 )
         		AIWander 500 0 0
    			PositionCell 59803.8828, 183183.3594, 314.2573, 0, "Dagon Fel"
    			set travel to 0
    		endif 
    		if ( travel == 8 )
         		AIWander 500 0 0
    			PositionCell -67142.3594, 139129.8594, 205.1514, 0, "Khuul"
    			set travel to 0
    		endif 
    		if ( travel == 9 )
         		AIWander 500 0 0
    			PositionCell -84440.8203, 92241.1953, 1054.9253, 0, "Gnisis"
    			set travel to 0
    		endif 
    		if ( travel == 10 )
         		AIWander 500 0 0
    			PositionCell 20736.9922, 38396.8008, 1161.2622, 0, "Ghostgate"
    			set travel to 0
    		endif
    		if ( travel == 11 )
         		AIWander 500 0 0
    			PositionCell -5.3433, 2476.1021, 173.3262, 0, "Mournhold, Plaza Brindisi Dorom"
    			set travel to 0
    		endif 
    	endif
    endif
    
    ;AND ABOVE HERE.
    
    ;ADDITIONS CAN ALSO BE ADDED TO THIS FOLLOWING SECTION, BUT BEWARE OF THE COUNTER.
    ;Counter can pooch some functions if they need to be checked every frame.
    
    if ( counter < 20 )
      set counter to counter + 1
      return
    endif
    
    set counter to 0
    
    if ( GetCurrentAIPackage == 3 )
      if ( GetDistance Player < 300 )
        setSpeed 15
        setAthletics 15
      elseif ( GetDistance Player > 300 )
        set c_speed to ( ( Player->GetSpeed ) * 2.25 )
        set c_athletics to ( ( Player->GetAthletics ) * 2.25 )
        setSpeed  c_speed
        setAthletics c_athletics
      endif
    
      if ( GetItemCount p_restore_health_b >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_c >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_e >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_q >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_s >= 1 )
        set p_Check to 1
      else
        set p_Check to 0
      endif
    endif
    
    if ( GetCurrentAIPackage != 3 )
      setspeed 40
    endif
    
    ;ADD ADDITIONAL TOPICS IN THIS SECTION IF REQUIRED.
    
    if ( addOnce == 0 )
      AddTopic "- Бой"
      AddTopic "- Сопровождение"
      AddTopic "- Инструкции"
      ;StartScript 1gr_compLevel
      set companion to 1
      set posession to 1
      set addOnce to 1
    endif
    
    if ( GetItemCount,  "nc_breton_skull" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_bonemeal_01" < 25 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_scrap_metal_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_netch_leather_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    endif
    
    ;if ( OnDeath = 1 )
    if ( GetHealth <= 5 )
    	if ( doOnce3 == 0 )
    		PlaySound, "ThunderClap"
    		AddItem "nc_breton_pauldron_sk" 1
    		set doOnce3 to 1
    	endif
    	if ( doOnce5 == 0 )
    		if ( GetItemCount nc_breton_pauldron_sk == 0 )
    			set doOnce5 to 1
    			Disable
    		endif
    	endif
    endif
    
    end

SCPT
SCHD nc_comp3Script_de 33 0 20 4373 410
SCVR see_f_warlord;see_fr_warlord;see_p_warlord;doOnce;doOnce2;doOnce3;doOnce4;combatDone;weapUse;combatCheck;soundPlayed;flyCheck;wwCheck;oneTimeMove;compMove;c_move;warp;c_marksman;c_speed;c_athletics;companion;nohello;noLore;counter;counter2;addOnce;p_Check;emb_hook_nominion;call;doOnce5;travel;free;posession;ax;ay;bx;by;bz;cx;cy;cz;t1;t2;t3;t4;coDist;coDist2;playz;timer;timer2;sheatheTimer;moveTimer;h_check;;
SCDT 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
SCTX
    begin nc_comp3Script_de
    
    float ax
    float ay
    float bx
    float by
    float bz
    float cx
    float cy
    float cz
    float t1
    float t2
    float t3
    float t4
    float coDist
    float coDist2
    float playz
    float timer
    float timer2
    float sheatheTimer
    float moveTimer
    float h_check
    short see_f_warlord
    short see_fr_warlord
    short see_p_warlord
    short doOnce
    short doOnce2
    short doOnce3
    short doOnce4
    short combatDone
    short weapUse
    short combatCheck
    short soundPlayed
    short flyCheck
    short wwCheck
    short oneTimeMove
    short compMove
    short c_move
    short warp
    short c_marksman
    short c_speed
    short c_athletics
    short companion
    short nohello
    short noLore
    short counter
    short counter2
    short addOnce
    short p_Check
    short emb_hook_nominion
    short call
    short doOnce5
    short travel
    short free
    short posession
    
    if ( MenuMode == 1 )
      ;if ( GetPCSleep == 0 )
        return
      ;endif
    endif
    
    set emb_hook_nominion to 1
    
    if ( GetDisabled == 1 )
    	set counter2 to ( counter2 + 1 )
    	if ( counter2 < 10 )
    		return
    	endif
    	setdelete 1
    	return
    endif
    
    if ( weapUse == 1 )
      if ( Player->GetWeaponType <= 8 )
        setmarksman 0
      elseif ( weapUse == 1 )
      if ( Player->GetWeaponType >= 9 )
        setmarksman 200
      endif
      endif
    endif
    
    if ( combatCheck == 1 )
      set sheathetimer to sheatheTimer + GetSecondsPassed
      if ( GetSoundPlaying, "Weapon Swish" == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, crossbowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, bowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "Weapon Swish" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "crossbowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "bowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      endif
      endif
      endif
      endif
    endif
    
    if ( soundPlayed == 1 )
      equip "silver dagger"
      removeitem "silver dagger" 1
    ;  messagebox "Working"
      set soundPlayed to 0
      set combatCheck to 0
      set combatDone to 1
    endif
    
    if ( combatDone == 1 )
        set timer to timer + GetSecondsPassed
      if ( timer > 6 )
        set timer to 0
        set combatDone to 0
        set warp to 0
      endif
    endif  
    
    if ( GetCurrentAIPackage == 3 )
      ;if ( GetPCSleep == 1 )
       ; StartScript 1gr_compLevel
      ;endif
    
      if ( GetPCSneaking == 1 )
        ForceSneak
      elseif ( GetPCSneaking == 0 )
        ClearForceSneak
      endif
    
      if ( Player->GetEffect sEffectLevitate == 1 )
      if ( flyCheck == 0 )
        cast nc_comp2_lev_bog player
        addspell nc_comp2_lev
        set flyCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectLevitate == 0 )
      if ( flyCheck == 1 )
        removespell nc_comp2_lev
        set flyCheck to 0
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 1 )
      if ( wwCheck == 0 )
        cast nc_comp2_ww_bog player
        addspell nc_comp2_ww
        set wwCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 0 )
      if ( wwCheck == 1 )
        removespell nc_comp2_ww
        set wwCheck to 0
      endif
      endif
    
      if ( flyCheck == 1 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( Player->GetPos z )
        SetPos z playz
      elseif ( flyCheck == 1 )
      if ( GetCurrentAIPackage != 3 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( GetPos z )
        SetPos z playz
      endif
      endif
      endif
      endif
    
      if ( GetWeaponDrawn == 1 )
      if ( flyCheck == 0 )
        set combatCheck to 1
        set timer to 0
        set warp to 1
        return
      elseif ( GetWeaponDrawn == 1 )
      if ( flyCheck == 1 )
        set combatDone to 1
        set timer to 0
        set warp to 1
        return
      endif
      endif
      endif
    
      set ax to ( Player->GetPos x )
      set ay to ( Player->GetPos y )
    
      if ( doOnce == 0 )
        set bx to ( Player->GetPos x )
        set by to ( Player->GetPos y )
        set bz to ( Player->GetPos z )
        set doOnce to 1
      endif
    
      set t1 to ( ax - bx )
      set t1 to ( t1 * t1 )
      set t2 to ( ay - by )
      set t2 to ( t2 * t2 )
      set t1 to ( t1 + t2 )
      set coDist to ( GetSquareRoot, t1 )
    
      if ( coDist > 360 )
        set doOnce to 0
      endif
    
      if ( coDist > 180 )
      if ( doOnce2 == 0 )
        set cx to ( Player->GetPos x )
        set cy to ( Player->GetPos y )
        set cz to ( Player->GetPos z )
        set doOnce2 to 1
      endif
      endif
    
      set t3 to ( ax - cx )
      set t3 to ( t3 * t3 )
      set t4 to ( ay - cy )
      set t4 to ( t4 * t4 )
      set t3 to ( t3 + t4 )
      set coDist2 to ( GetSquareRoot, t3 )
    
      if ( coDist2 > 360 )
        set doOnce2 to 0
      endif
    
    if ( see_f_warlord == 0 )
    	if ( see_fr_warlord == 0 )
    		if ( see_p_warlord == 0 )
      if ( warp == 0 )
      if ( coDist > 350 )
      if ( GetDistance Player > 680 )
        SetPos x bx
        SetPos y by
        SetPos z bz
        AiFollow Player 0 0 0 0
      elseif ( warp == 0 )
      if ( coDist2 > 350 )
      if ( GetDistance Player > 680 )
        SetPos x cx
        SetPos y cy
        SetPos z cz
        AiFollow Player 0 0 0 0
      endif
      endif
      endif
      endif
      endif
    endif
    endif
    endif
    endif
    
    if ( see_f_warlord == 1 )
    if ( nc_f_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_fr_warlord == 1 )
    if ( nc_fr_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_p_warlord == 1 )
    if ( nc_p_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    ;IF ADDITIONS ARE DESIRED, PLEASE ADD THEM BELOW HERE...
    
    if ( GetCurrentAIPackage == 3 )
      if ( compMove == 1 )
      if ( c_move == 0 )
      if ( GetDistance Player < 70 )
        AIWander 300 0 0 0 0
        set c_move to 1
      endif
      endif
      endif
    endif
    
    if ( c_move == 1 )
      if ( GetDistance Player > 100 )
        AIFollow Player 0 0 0 0
      set c_move to 0
      endif
    endif
    
    if ( oneTimeMove == 1 )
      set moveTimer to moveTimer + GetSecondsPassed
      if ( moveTimer > 4 )
        set moveTimer to 0
        AiFollow Player 0 0 0 0
        set oneTimeMove to 0
      endif
    endif
    
    if ( call == 0 )
    	if ( nc_callrev == 1 )
    		AIWander 0 0 0
    		set call to 1
    	elseif ( nc_callrev == 2 )
    		AIFollow player 0 0 0 0
    		set call to 2
    	elseif ( nc_callrev == 3 )
    		AIWander 500 0 0
    		set call to 3
    	endif
    	if ( nc_callmessage == 0 )
    		set nc_callmessage to 1
    	endif
    endif
    
    if ( nc_callrev == 0 )
    	set call to 0
    endif
    
    if ( travel > 0 )
    	if ( CellChanged == 0 )
    		if ( travel == 1 )
         		AIWander 500 0 0
    			PositionCell -23265.2344, -15409.3721, 556.0000, 0, "Balmora"
    			set travel to 0
    		endif 
    		if ( travel == 2 )
         		AIWander 500 0 0
    			PositionCell -14688.3975, 52477.6445, 2119.9502, 0, "Ald-ruhn"
    			set travel to 0
    		endif 
    		if ( travel == 3 )
         		AIWander 500 0 0
    			PositionCell 48308.0547, -81831.6328, 576.7466, 0, "Vivec"
    			set travel to 0
    		endif 
    		if ( travel == 4 )
         		AIWander 500 0 0
    			PositionCell 105102.6641, -61811.3477, 635.0835, 0, "Molag Mar"
    			set travel to 0
    		endif 
    		if ( travel == 5 )
         		AIWander 500 0 0
    			PositionCell 149019.1250, 29684.0938, 700.0000, 0, "Wolverine Hall"
    			set travel to 0
    		endif 
    		if ( travel == 6 )
         		AIWander 500 0 0
    			PositionCell 98660.6641, 111530.5625, 308.0195, 0, "Vos"
    			set travel to 0
    		endif 
    		if ( travel == 7 )
         		AIWander 500 0 0
    			PositionCell 59803.8828, 183183.3594, 314.2573, 0, "Dagon Fel"
    			set travel to 0
    		endif 
    		if ( travel == 8 )
         		AIWander 500 0 0
    			PositionCell -67142.3594, 139129.8594, 205.1514, 0, "Khuul"
    			set travel to 0
    		endif 
    		if ( travel == 9 )
         		AIWander 500 0 0
    			PositionCell -84440.8203, 92241.1953, 1054.9253, 0, "Gnisis"
    			set travel to 0
    		endif 
    		if ( travel == 10 )
         		AIWander 500 0 0
    			PositionCell 20736.9922, 38396.8008, 1161.2622, 0, "Ghostgate"
    			set travel to 0
    		endif
    		if ( travel == 11 )
         		AIWander 500 0 0
    			PositionCell -5.3433, 2476.1021, 173.3262, 0, "Mournhold, Plaza Brindisi Dorom"
    			set travel to 0
    		endif 
    	endif
    endif
    
    ;AND ABOVE HERE.
    
    ;ADDITIONS CAN ALSO BE ADDED TO THIS FOLLOWING SECTION, BUT BEWARE OF THE COUNTER.
    ;Counter can pooch some functions if they need to be checked every frame.
    
    if ( counter < 20 )
      set counter to counter + 1
      return
    endif
    
    set counter to 0
    
    if ( GetCurrentAIPackage == 3 )
      if ( GetDistance Player < 300 )
        setSpeed 15
        setAthletics 15
      elseif ( GetDistance Player > 300 )
        set c_speed to ( ( Player->GetSpeed ) * 2.25 )
        set c_athletics to ( ( Player->GetAthletics ) * 2.25 )
        setSpeed  c_speed
        setAthletics c_athletics
      endif
    
      if ( GetItemCount p_restore_health_b >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_c >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_e >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_q >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_s >= 1 )
        set p_Check to 1
      else
        set p_Check to 0
      endif
    endif
    
    if ( GetCurrentAIPackage != 3 )
      setspeed 40
    endif
    
    ;ADD ADDITIONAL TOPICS IN THIS SECTION IF REQUIRED.
    
    if ( addOnce == 0 )
      AddTopic "- Бой"
      AddTopic "- Сопровождение"
      AddTopic "- Инструкции"
      ;StartScript 1gr_compLevel
      set companion to 1
      set posession to 1
      set addOnce to 1
    endif
    
    endif
    
    if ( GetItemCount,  "nc_dunmer_skull" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_bonemeal_01" < 25 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_scrap_metal_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_netch_leather_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    endif
    
    ;if ( OnDeath = 1 )
    if ( GetHealth <= 5 )
    	if ( doOnce3 == 0 )
    		PlaySound, "ThunderClap"
    		AddItem "nc_dunmer_pauldron_sk" 1
    		set doOnce3 to 1
    	endif
    	if ( doOnce5 == 0 )
    		if ( GetItemCount nc_dunmer_pauldron_sk == 0 )
    			set doOnce5 to 1
    			Disable
    		endif
    	endif
    endif
    
    end

SCPT
SCHD nc_comp3Script_he 33 0 20 4370 410
SCVR see_f_warlord;see_fr_warlord;see_p_warlord;doOnce;doOnce2;doOnce3;doOnce4;combatDone;weapUse;combatCheck;soundPlayed;flyCheck;wwCheck;oneTimeMove;compMove;c_move;warp;c_marksman;c_speed;c_athletics;companion;nohello;noLore;counter;counter2;addOnce;p_Check;emb_hook_nominion;call;doOnce5;travel;free;posession;ax;ay;bx;by;bz;cx;cy;cz;t1;t2;t3;t4;coDist;coDist2;playz;timer;timer2;sheatheTimer;moveTimer;h_check;;
SCDT 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
SCTX
    begin nc_comp3Script_he
    
    float ax
    float ay
    float bx
    float by
    float bz
    float cx
    float cy
    float cz
    float t1
    float t2
    float t3
    float t4
    float coDist
    float coDist2
    float playz
    float timer
    float timer2
    float sheatheTimer
    float moveTimer
    float h_check
    short see_f_warlord
    short see_fr_warlord
    short see_p_warlord
    short doOnce
    short doOnce2
    short doOnce3
    short doOnce4
    short combatDone
    short weapUse
    short combatCheck
    short soundPlayed
    short flyCheck
    short wwCheck
    short oneTimeMove
    short compMove
    short c_move
    short warp
    short c_marksman
    short c_speed
    short c_athletics
    short companion
    short nohello
    short noLore
    short counter
    short counter2
    short addOnce
    short p_Check
    short emb_hook_nominion
    short call
    short doOnce5
    short travel
    short free
    short posession
    
    if ( MenuMode == 1 )
      ;if ( GetPCSleep == 0 )
        return
      ;endif
    endif
    
    set emb_hook_nominion to 1
    
    if ( GetDisabled == 1 )
    	set counter2 to ( counter2 + 1 )
    	if ( counter2 < 10 )
    		return
    	endif
    	setdelete 1
    	return
    endif
    
    if ( weapUse == 1 )
      if ( Player->GetWeaponType <= 8 )
        setmarksman 0
      elseif ( weapUse == 1 )
      if ( Player->GetWeaponType >= 9 )
        setmarksman 200
      endif
      endif
    endif
    
    if ( combatCheck == 1 )
      set sheathetimer to sheatheTimer + GetSecondsPassed
      if ( GetSoundPlaying, "Weapon Swish" == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, crossbowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, bowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "Weapon Swish" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "crossbowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "bowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      endif
      endif
      endif
      endif
    endif
    
    if ( soundPlayed == 1 )
      equip "silver dagger"
      removeitem "silver dagger" 1
    ;  messagebox "Working"
      set soundPlayed to 0
      set combatCheck to 0
      set combatDone to 1
    endif
    
    if ( combatDone == 1 )
        set timer to timer + GetSecondsPassed
      if ( timer > 6 )
        set timer to 0
        set combatDone to 0
        set warp to 0
      endif
    endif  
    
    if ( GetCurrentAIPackage == 3 )
      ;if ( GetPCSleep == 1 )
       ; StartScript 1gr_compLevel
      ;endif
    
      if ( GetPCSneaking == 1 )
        ForceSneak
      elseif ( GetPCSneaking == 0 )
        ClearForceSneak
      endif
    
      if ( Player->GetEffect sEffectLevitate == 1 )
      if ( flyCheck == 0 )
        cast nc_comp2_lev_bog player
        addspell nc_comp2_lev
        set flyCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectLevitate == 0 )
      if ( flyCheck == 1 )
        removespell nc_comp2_lev
        set flyCheck to 0
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 1 )
      if ( wwCheck == 0 )
        cast nc_comp2_ww_bog player
        addspell nc_comp2_ww
        set wwCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 0 )
      if ( wwCheck == 1 )
        removespell nc_comp2_ww
        set wwCheck to 0
      endif
      endif
    
      if ( flyCheck == 1 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( Player->GetPos z )
        SetPos z playz
      elseif ( flyCheck == 1 )
      if ( GetCurrentAIPackage != 3 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( GetPos z )
        SetPos z playz
      endif
      endif
      endif
      endif
    
      if ( GetWeaponDrawn == 1 )
      if ( flyCheck == 0 )
        set combatCheck to 1
        set timer to 0
        set warp to 1
        return
      elseif ( GetWeaponDrawn == 1 )
      if ( flyCheck == 1 )
        set combatDone to 1
        set timer to 0
        set warp to 1
        return
      endif
      endif
      endif
    
      set ax to ( Player->GetPos x )
      set ay to ( Player->GetPos y )
    
      if ( doOnce == 0 )
        set bx to ( Player->GetPos x )
        set by to ( Player->GetPos y )
        set bz to ( Player->GetPos z )
        set doOnce to 1
      endif
    
      set t1 to ( ax - bx )
      set t1 to ( t1 * t1 )
      set t2 to ( ay - by )
      set t2 to ( t2 * t2 )
      set t1 to ( t1 + t2 )
      set coDist to ( GetSquareRoot, t1 )
    
      if ( coDist > 360 )
        set doOnce to 0
      endif
    
      if ( coDist > 180 )
      if ( doOnce2 == 0 )
        set cx to ( Player->GetPos x )
        set cy to ( Player->GetPos y )
        set cz to ( Player->GetPos z )
        set doOnce2 to 1
      endif
      endif
    
      set t3 to ( ax - cx )
      set t3 to ( t3 * t3 )
      set t4 to ( ay - cy )
      set t4 to ( t4 * t4 )
      set t3 to ( t3 + t4 )
      set coDist2 to ( GetSquareRoot, t3 )
    
      if ( coDist2 > 360 )
        set doOnce2 to 0
      endif
    
    if ( see_f_warlord == 0 )
    	if ( see_fr_warlord == 0 )
    		if ( see_p_warlord == 0 )
      if ( warp == 0 )
      if ( coDist > 350 )
      if ( GetDistance Player > 680 )
        SetPos x bx
        SetPos y by
        SetPos z bz
        AiFollow Player 0 0 0 0
      elseif ( warp == 0 )
      if ( coDist2 > 350 )
      if ( GetDistance Player > 680 )
        SetPos x cx
        SetPos y cy
        SetPos z cz
        AiFollow Player 0 0 0 0
      endif
      endif
      endif
      endif
      endif
    endif
    endif
    endif
    endif
    
    if ( see_f_warlord == 1 )
    if ( nc_f_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_fr_warlord == 1 )
    if ( nc_fr_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_p_warlord == 1 )
    if ( nc_p_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    ;IF ADDITIONS ARE DESIRED, PLEASE ADD THEM BELOW HERE...
    
    if ( GetCurrentAIPackage == 3 )
      if ( compMove == 1 )
      if ( c_move == 0 )
      if ( GetDistance Player < 70 )
        AIWander 300 0 0 0 0
        set c_move to 1
      endif
      endif
      endif
    endif
    
    if ( c_move == 1 )
      if ( GetDistance Player > 100 )
        AIFollow Player 0 0 0 0
      set c_move to 0
      endif
    endif
    
    if ( oneTimeMove == 1 )
      set moveTimer to moveTimer + GetSecondsPassed
      if ( moveTimer > 4 )
        set moveTimer to 0
        AiFollow Player 0 0 0 0
        set oneTimeMove to 0
      endif
    endif
    
    if ( call == 0 )
    	if ( nc_callrev == 1 )
    		AIWander 0 0 0
    		set call to 1
    	elseif ( nc_callrev == 2 )
    		AIFollow player 0 0 0 0
    		set call to 2
    	elseif ( nc_callrev == 3 )
    		AIWander 500 0 0
    		set call to 3
    	endif
    	if ( nc_callmessage == 0 )
    		set nc_callmessage to 1
    	endif
    endif
    
    if ( nc_callrev == 0 )
    	set call to 0
    endif
    
    if ( travel > 0 )
    	if ( CellChanged == 0 )
    		if ( travel == 1 )
         		AIWander 500 0 0
    			PositionCell -23265.2344, -15409.3721, 556.0000, 0, "Balmora"
    			set travel to 0
    		endif 
    		if ( travel == 2 )
         		AIWander 500 0 0
    			PositionCell -14688.3975, 52477.6445, 2119.9502, 0, "Ald-ruhn"
    			set travel to 0
    		endif 
    		if ( travel == 3 )
         		AIWander 500 0 0
    			PositionCell 48308.0547, -81831.6328, 576.7466, 0, "Vivec"
    			set travel to 0
    		endif 
    		if ( travel == 4 )
         		AIWander 500 0 0
    			PositionCell 105102.6641, -61811.3477, 635.0835, 0, "Molag Mar"
    			set travel to 0
    		endif 
    		if ( travel == 5 )
         		AIWander 500 0 0
    			PositionCell 149019.1250, 29684.0938, 700.0000, 0, "Wolverine Hall"
    			set travel to 0
    		endif 
    		if ( travel == 6 )
         		AIWander 500 0 0
    			PositionCell 98660.6641, 111530.5625, 308.0195, 0, "Vos"
    			set travel to 0
    		endif 
    		if ( travel == 7 )
         		AIWander 500 0 0
    			PositionCell 59803.8828, 183183.3594, 314.2573, 0, "Dagon Fel"
    			set travel to 0
    		endif 
    		if ( travel == 8 )
         		AIWander 500 0 0
    			PositionCell -67142.3594, 139129.8594, 205.1514, 0, "Khuul"
    			set travel to 0
    		endif 
    		if ( travel == 9 )
         		AIWander 500 0 0
    			PositionCell -84440.8203, 92241.1953, 1054.9253, 0, "Gnisis"
    			set travel to 0
    		endif 
    		if ( travel == 10 )
         		AIWander 500 0 0
    			PositionCell 20736.9922, 38396.8008, 1161.2622, 0, "Ghostgate"
    			set travel to 0
    		endif
    		if ( travel == 11 )
         		AIWander 500 0 0
    			PositionCell -5.3433, 2476.1021, 173.3262, 0, "Mournhold, Plaza Brindisi Dorom"
    			set travel to 0
    		endif 
    	endif
    endif
    
    ;AND ABOVE HERE.
    
    ;ADDITIONS CAN ALSO BE ADDED TO THIS FOLLOWING SECTION, BUT BEWARE OF THE COUNTER.
    ;Counter can pooch some functions if they need to be checked every frame.
    
    if ( counter < 20 )
      set counter to counter + 1
      return
    endif
    
    set counter to 0
    
    if ( GetCurrentAIPackage == 3 )
      if ( GetDistance Player < 300 )
        setSpeed 15
        setAthletics 15
      elseif ( GetDistance Player > 300 )
        set c_speed to ( ( Player->GetSpeed ) * 2.25 )
        set c_athletics to ( ( Player->GetAthletics ) * 2.25 )
        setSpeed  c_speed
        setAthletics c_athletics
      endif
    
      if ( GetItemCount p_restore_health_b >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_c >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_e >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_q >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_s >= 1 )
        set p_Check to 1
      else
        set p_Check to 0
      endif
    endif
    
    if ( GetCurrentAIPackage != 3 )
      setspeed 40
    endif
    
    ;ADD ADDITIONAL TOPICS IN THIS SECTION IF REQUIRED.
    
    if ( addOnce == 0 )
      AddTopic "- Бой"
      AddTopic "- Сопровождение"
      AddTopic "- Инструкции"
      ;StartScript 1gr_compLevel
      set companion to 1
      set posession to 1
      set addOnce to 1
    endif
    
    if ( GetItemCount,  "nc_altmer_skull" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_bonemeal_01" < 25 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_scrap_metal_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_netch_leather_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    endif
    
    ;if ( OnDeath = 1 )
    if ( GetHealth <= 5 )
    	if ( doOnce3 == 0 )
    		PlaySound, "ThunderClap"
    		AddItem "nc_altmer_pauldron_sk" 1
    		set doOnce3 to 1
    	endif
    	if ( doOnce5 == 0 )
    		if ( GetItemCount "nc_altmer_pauldron_sk" < 1 )
    			set doOnce5 to 1
    			Disable
    		endif
    	endif
    endif
    
    end

SCPT
SCHD nc_comp3Script_imp 33 0 20 4376 410
SCVR see_f_warlord;see_fr_warlord;see_p_warlord;doOnce;doOnce2;doOnce3;doOnce4;combatDone;weapUse;combatCheck;soundPlayed;flyCheck;wwCheck;oneTimeMove;compMove;c_move;warp;c_marksman;c_speed;c_athletics;companion;nohello;noLore;counter;counter2;addOnce;p_Check;emb_hook_nominion;call;doOnce5;travel;free;posession;ax;ay;bx;by;bz;cx;cy;cz;t1;t2;t3;t4;coDist;coDist2;playz;timer;timer2;sheatheTimer;moveTimer;h_check;;
SCDT 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
SCTX
    begin nc_comp3Script_imp
    
    float ax
    float ay
    float bx
    float by
    float bz
    float cx
    float cy
    float cz
    float t1
    float t2
    float t3
    float t4
    float coDist
    float coDist2
    float playz
    float timer
    float timer2
    float sheatheTimer
    float moveTimer
    float h_check
    short see_f_warlord
    short see_fr_warlord
    short see_p_warlord
    short doOnce
    short doOnce2
    short doOnce3
    short doOnce4
    short combatDone
    short weapUse
    short combatCheck
    short soundPlayed
    short flyCheck
    short wwCheck
    short oneTimeMove
    short compMove
    short c_move
    short warp
    short c_marksman
    short c_speed
    short c_athletics
    short companion
    short nohello
    short noLore
    short counter
    short counter2
    short addOnce
    short p_Check
    short emb_hook_nominion
    short call
    short doOnce5
    short travel
    short free
    short posession
    
    if ( MenuMode == 1 )
      ;if ( GetPCSleep == 0 )
        return
      ;endif
    endif
    
    set emb_hook_nominion to 1
    
    if ( GetDisabled == 1 )
    	set counter2 to ( counter2 + 1 )
    	if ( counter2 < 10 )
    		return
    	endif
    	setdelete 1
    	return
    endif
    
    if ( weapUse == 1 )
      if ( Player->GetWeaponType <= 8 )
        setmarksman 0
      elseif ( weapUse == 1 )
      if ( Player->GetWeaponType >= 9 )
        setmarksman 200
      endif
      endif
    endif
    
    if ( combatCheck == 1 )
      set sheathetimer to sheatheTimer + GetSecondsPassed
      if ( GetSoundPlaying, "Weapon Swish" == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, crossbowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, bowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "Weapon Swish" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "crossbowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "bowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      endif
      endif
      endif
      endif
    endif
    
    if ( soundPlayed == 1 )
      equip "silver dagger"
      removeitem "silver dagger" 1
    ;  messagebox "Working"
      set soundPlayed to 0
      set combatCheck to 0
      set combatDone to 1
    endif
    
    if ( combatDone == 1 )
        set timer to timer + GetSecondsPassed
      if ( timer > 6 )
        set timer to 0
        set combatDone to 0
        set warp to 0
      endif
    endif  
    
    if ( GetCurrentAIPackage == 3 )
      ;if ( GetPCSleep == 1 )
       ; StartScript 1gr_compLevel
      ;endif
    
      if ( GetPCSneaking == 1 )
        ForceSneak
      elseif ( GetPCSneaking == 0 )
        ClearForceSneak
      endif
    
      if ( Player->GetEffect sEffectLevitate == 1 )
      if ( flyCheck == 0 )
        cast nc_comp2_lev_bog player
        addspell nc_comp2_lev
        set flyCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectLevitate == 0 )
      if ( flyCheck == 1 )
        removespell nc_comp2_lev
        set flyCheck to 0
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 1 )
      if ( wwCheck == 0 )
        cast nc_comp2_ww_bog player
        addspell nc_comp2_ww
        set wwCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 0 )
      if ( wwCheck == 1 )
        removespell nc_comp2_ww
        set wwCheck to 0
      endif
      endif
    
      if ( flyCheck == 1 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( Player->GetPos z )
        SetPos z playz
      elseif ( flyCheck == 1 )
      if ( GetCurrentAIPackage != 3 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( GetPos z )
        SetPos z playz
      endif
      endif
      endif
      endif
    
      if ( GetWeaponDrawn == 1 )
      if ( flyCheck == 0 )
        set combatCheck to 1
        set timer to 0
        set warp to 1
        return
      elseif ( GetWeaponDrawn == 1 )
      if ( flyCheck == 1 )
        set combatDone to 1
        set timer to 0
        set warp to 1
        return
      endif
      endif
      endif
    
      set ax to ( Player->GetPos x )
      set ay to ( Player->GetPos y )
    
      if ( doOnce == 0 )
        set bx to ( Player->GetPos x )
        set by to ( Player->GetPos y )
        set bz to ( Player->GetPos z )
        set doOnce to 1
      endif
    
      set t1 to ( ax - bx )
      set t1 to ( t1 * t1 )
      set t2 to ( ay - by )
      set t2 to ( t2 * t2 )
      set t1 to ( t1 + t2 )
      set coDist to ( GetSquareRoot, t1 )
    
      if ( coDist > 360 )
        set doOnce to 0
      endif
    
      if ( coDist > 180 )
      if ( doOnce2 == 0 )
        set cx to ( Player->GetPos x )
        set cy to ( Player->GetPos y )
        set cz to ( Player->GetPos z )
        set doOnce2 to 1
      endif
      endif
    
      set t3 to ( ax - cx )
      set t3 to ( t3 * t3 )
      set t4 to ( ay - cy )
      set t4 to ( t4 * t4 )
      set t3 to ( t3 + t4 )
      set coDist2 to ( GetSquareRoot, t3 )
    
      if ( coDist2 > 360 )
        set doOnce2 to 0
      endif
    
    if ( see_f_warlord == 0 )
    	if ( see_fr_warlord == 0 )
    		if ( see_p_warlord == 0 )
      if ( warp == 0 )
      if ( coDist > 350 )
      if ( GetDistance Player > 680 )
        SetPos x bx
        SetPos y by
        SetPos z bz
        AiFollow Player 0 0 0 0
      elseif ( warp == 0 )
      if ( coDist2 > 350 )
      if ( GetDistance Player > 680 )
        SetPos x cx
        SetPos y cy
        SetPos z cz
        AiFollow Player 0 0 0 0
      endif
      endif
      endif
      endif
      endif
    endif
    endif
    endif
    endif
    
    if ( see_f_warlord == 1 )
    if ( nc_f_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_fr_warlord == 1 )
    if ( nc_fr_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_p_warlord == 1 )
    if ( nc_p_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    ;IF ADDITIONS ARE DESIRED, PLEASE ADD THEM BELOW HERE...
    
    if ( GetCurrentAIPackage == 3 )
      if ( compMove == 1 )
      if ( c_move == 0 )
      if ( GetDistance Player < 70 )
        AIWander 300 0 0 0 0
        set c_move to 1
      endif
      endif
      endif
    endif
    
    if ( c_move == 1 )
      if ( GetDistance Player > 100 )
        AIFollow Player 0 0 0 0
      set c_move to 0
      endif
    endif
    
    if ( oneTimeMove == 1 )
      set moveTimer to moveTimer + GetSecondsPassed
      if ( moveTimer > 4 )
        set moveTimer to 0
        AiFollow Player 0 0 0 0
        set oneTimeMove to 0
      endif
    endif
    
    if ( call == 0 )
    	if ( nc_callrev == 1 )
    		AIWander 0 0 0
    		set call to 1
    	elseif ( nc_callrev == 2 )
    		AIFollow player 0 0 0 0
    		set call to 2
    	elseif ( nc_callrev == 3 )
    		AIWander 500 0 0
    		set call to 3
    	endif
    	if ( nc_callmessage == 0 )
    		set nc_callmessage to 1
    	endif
    endif
    
    if ( nc_callrev == 0 )
    	set call to 0
    endif
    
    if ( travel > 0 )
    	if ( CellChanged == 0 )
    		if ( travel == 1 )
         		AIWander 500 0 0
    			PositionCell -23265.2344, -15409.3721, 556.0000, 0, "Balmora"
    			set travel to 0
    		endif 
    		if ( travel == 2 )
         		AIWander 500 0 0
    			PositionCell -14688.3975, 52477.6445, 2119.9502, 0, "Ald-ruhn"
    			set travel to 0
    		endif 
    		if ( travel == 3 )
         		AIWander 500 0 0
    			PositionCell 48308.0547, -81831.6328, 576.7466, 0, "Vivec"
    			set travel to 0
    		endif 
    		if ( travel == 4 )
         		AIWander 500 0 0
    			PositionCell 105102.6641, -61811.3477, 635.0835, 0, "Molag Mar"
    			set travel to 0
    		endif 
    		if ( travel == 5 )
         		AIWander 500 0 0
    			PositionCell 149019.1250, 29684.0938, 700.0000, 0, "Wolverine Hall"
    			set travel to 0
    		endif 
    		if ( travel == 6 )
         		AIWander 500 0 0
    			PositionCell 98660.6641, 111530.5625, 308.0195, 0, "Vos"
    			set travel to 0
    		endif 
    		if ( travel == 7 )
         		AIWander 500 0 0
    			PositionCell 59803.8828, 183183.3594, 314.2573, 0, "Dagon Fel"
    			set travel to 0
    		endif 
    		if ( travel == 8 )
         		AIWander 500 0 0
    			PositionCell -67142.3594, 139129.8594, 205.1514, 0, "Khuul"
    			set travel to 0
    		endif 
    		if ( travel == 9 )
         		AIWander 500 0 0
    			PositionCell -84440.8203, 92241.1953, 1054.9253, 0, "Gnisis"
    			set travel to 0
    		endif 
    		if ( travel == 10 )
         		AIWander 500 0 0
    			PositionCell 20736.9922, 38396.8008, 1161.2622, 0, "Ghostgate"
    			set travel to 0
    		endif
    		if ( travel == 11 )
         		AIWander 500 0 0
    			PositionCell -5.3433, 2476.1021, 173.3262, 0, "Mournhold, Plaza Brindisi Dorom"
    			set travel to 0
    		endif 
    	endif
    endif
    
    ;AND ABOVE HERE.
    
    ;ADDITIONS CAN ALSO BE ADDED TO THIS FOLLOWING SECTION, BUT BEWARE OF THE COUNTER.
    ;Counter can pooch some functions if they need to be checked every frame.
    
    if ( counter < 20 )
      set counter to counter + 1
      return
    endif
    
    set counter to 0
    
    if ( GetCurrentAIPackage == 3 )
      if ( GetDistance Player < 300 )
        setSpeed 15
        setAthletics 15
      elseif ( GetDistance Player > 300 )
        set c_speed to ( ( Player->GetSpeed ) * 2.25 )
        set c_athletics to ( ( Player->GetAthletics ) * 2.25 )
        setSpeed  c_speed
        setAthletics c_athletics
      endif
    
      if ( GetItemCount p_restore_health_b >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_c >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_e >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_q >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_s >= 1 )
        set p_Check to 1
      else
        set p_Check to 0
      endif
    endif
    
    if ( GetCurrentAIPackage != 3 )
      setspeed 40
    endif
    
    ;ADD ADDITIONAL TOPICS IN THIS SECTION IF REQUIRED.
    
    if ( addOnce == 0 )
      AddTopic "- Бой"
      AddTopic "- Сопровождение"
      AddTopic "- Инструкции"
      ;StartScript 1gr_compLevel
      set companion to 1
      set posession to 1
      set addOnce to 1
    endif
    
    if ( GetItemCount,  "nc_imperial_skull" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_bonemeal_01" < 25 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_scrap_metal_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_netch_leather_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    endif
    
    ;if ( OnDeath = 1 )
    if ( GetHealth <= 5 )
    	if ( doOnce3 == 0 )
    		PlaySound, "ThunderClap"
    		AddItem "nc_imperial_pauldron_sk" 1
    		set doOnce3 to 1
    	endif
    	if ( doOnce5 == 0 )
    		if ( GetItemCount "nc_imperial_pauldron_sk" < 1 )
    			set doOnce5 to 1
    			Disable
    		endif
    	endif
    endif
    
    end

SCPT
SCHD nc_comp3Script_kha 33 0 20 4373 410
SCVR see_f_warlord;see_fr_warlord;see_p_warlord;doOnce;doOnce2;doOnce3;doOnce4;combatDone;weapUse;combatCheck;soundPlayed;flyCheck;wwCheck;oneTimeMove;compMove;c_move;warp;c_marksman;c_speed;c_athletics;companion;nohello;noLore;counter;counter2;addOnce;p_Check;emb_hook_nominion;call;doOnce5;travel;free;posession;ax;ay;bx;by;bz;cx;cy;cz;t1;t2;t3;t4;coDist;coDist2;playz;timer;timer2;sheatheTimer;moveTimer;h_check;;
SCDT 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
SCTX
    begin nc_comp3Script_kha
    
    float ax
    float ay
    float bx
    float by
    float bz
    float cx
    float cy
    float cz
    float t1
    float t2
    float t3
    float t4
    float coDist
    float coDist2
    float playz
    float timer
    float timer2
    float sheatheTimer
    float moveTimer
    float h_check
    short see_f_warlord
    short see_fr_warlord
    short see_p_warlord
    short doOnce
    short doOnce2
    short doOnce3
    short doOnce4
    short combatDone
    short weapUse
    short combatCheck
    short soundPlayed
    short flyCheck
    short wwCheck
    short oneTimeMove
    short compMove
    short c_move
    short warp
    short c_marksman
    short c_speed
    short c_athletics
    short companion
    short nohello
    short noLore
    short counter
    short counter2
    short addOnce
    short p_Check
    short emb_hook_nominion
    short call
    short doOnce5
    short travel
    short free
    short posession
    
    if ( MenuMode == 1 )
      ;if ( GetPCSleep == 0 )
        return
      ;endif
    endif
    
    set emb_hook_nominion to 1
    
    if ( GetDisabled == 1 )
    	set counter2 to ( counter2 + 1 )
    	if ( counter2 < 10 )
    		return
    	endif
    	setdelete 1
    	return
    endif
    
    if ( weapUse == 1 )
      if ( Player->GetWeaponType <= 8 )
        setmarksman 0
      elseif ( weapUse == 1 )
      if ( Player->GetWeaponType >= 9 )
        setmarksman 200
      endif
      endif
    endif
    
    if ( combatCheck == 1 )
      set sheathetimer to sheatheTimer + GetSecondsPassed
      if ( GetSoundPlaying, "Weapon Swish" == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, crossbowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, bowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "Weapon Swish" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "crossbowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "bowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      endif
      endif
      endif
      endif
    endif
    
    if ( soundPlayed == 1 )
      equip "silver dagger"
      removeitem "silver dagger" 1
    ;  messagebox "Working"
      set soundPlayed to 0
      set combatCheck to 0
      set combatDone to 1
    endif
    
    if ( combatDone == 1 )
        set timer to timer + GetSecondsPassed
      if ( timer > 6 )
        set timer to 0
        set combatDone to 0
        set warp to 0
      endif
    endif  
    
    if ( GetCurrentAIPackage == 3 )
      ;if ( GetPCSleep == 1 )
       ; StartScript 1gr_compLevel
      ;endif
    
      if ( GetPCSneaking == 1 )
        ForceSneak
      elseif ( GetPCSneaking == 0 )
        ClearForceSneak
      endif
    
      if ( Player->GetEffect sEffectLevitate == 1 )
      if ( flyCheck == 0 )
        cast nc_comp2_lev_bog player
        addspell nc_comp2_lev
        set flyCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectLevitate == 0 )
      if ( flyCheck == 1 )
        removespell nc_comp2_lev
        set flyCheck to 0
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 1 )
      if ( wwCheck == 0 )
        cast nc_comp2_ww_bog player
        addspell nc_comp2_ww
        set wwCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 0 )
      if ( wwCheck == 1 )
        removespell nc_comp2_ww
        set wwCheck to 0
      endif
      endif
    
      if ( flyCheck == 1 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( Player->GetPos z )
        SetPos z playz
      elseif ( flyCheck == 1 )
      if ( GetCurrentAIPackage != 3 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( GetPos z )
        SetPos z playz
      endif
      endif
      endif
      endif
    
      if ( GetWeaponDrawn == 1 )
      if ( flyCheck == 0 )
        set combatCheck to 1
        set timer to 0
        set warp to 1
        return
      elseif ( GetWeaponDrawn == 1 )
      if ( flyCheck == 1 )
        set combatDone to 1
        set timer to 0
        set warp to 1
        return
      endif
      endif
      endif
    
      set ax to ( Player->GetPos x )
      set ay to ( Player->GetPos y )
    
      if ( doOnce == 0 )
        set bx to ( Player->GetPos x )
        set by to ( Player->GetPos y )
        set bz to ( Player->GetPos z )
        set doOnce to 1
      endif
    
      set t1 to ( ax - bx )
      set t1 to ( t1 * t1 )
      set t2 to ( ay - by )
      set t2 to ( t2 * t2 )
      set t1 to ( t1 + t2 )
      set coDist to ( GetSquareRoot, t1 )
    
      if ( coDist > 360 )
        set doOnce to 0
      endif
    
      if ( coDist > 180 )
      if ( doOnce2 == 0 )
        set cx to ( Player->GetPos x )
        set cy to ( Player->GetPos y )
        set cz to ( Player->GetPos z )
        set doOnce2 to 1
      endif
      endif
    
      set t3 to ( ax - cx )
      set t3 to ( t3 * t3 )
      set t4 to ( ay - cy )
      set t4 to ( t4 * t4 )
      set t3 to ( t3 + t4 )
      set coDist2 to ( GetSquareRoot, t3 )
    
      if ( coDist2 > 360 )
        set doOnce2 to 0
      endif
    
    if ( see_f_warlord == 0 )
    	if ( see_fr_warlord == 0 )
    		if ( see_p_warlord == 0 )
      if ( warp == 0 )
      if ( coDist > 350 )
      if ( GetDistance Player > 680 )
        SetPos x bx
        SetPos y by
        SetPos z bz
        AiFollow Player 0 0 0 0
      elseif ( warp == 0 )
      if ( coDist2 > 350 )
      if ( GetDistance Player > 680 )
        SetPos x cx
        SetPos y cy
        SetPos z cz
        AiFollow Player 0 0 0 0
      endif
      endif
      endif
      endif
      endif
    endif
    endif
    endif
    endif
    
    if ( see_f_warlord == 1 )
    if ( nc_f_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_fr_warlord == 1 )
    if ( nc_fr_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_p_warlord == 1 )
    if ( nc_p_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    ;IF ADDITIONS ARE DESIRED, PLEASE ADD THEM BELOW HERE...
    
    if ( GetCurrentAIPackage == 3 )
      if ( compMove == 1 )
      if ( c_move == 0 )
      if ( GetDistance Player < 70 )
        AIWander 300 0 0 0 0
        set c_move to 1
      endif
      endif
      endif
    endif
    
    if ( c_move == 1 )
      if ( GetDistance Player > 100 )
        AIFollow Player 0 0 0 0
      set c_move to 0
      endif
    endif
    
    if ( oneTimeMove == 1 )
      set moveTimer to moveTimer + GetSecondsPassed
      if ( moveTimer > 4 )
        set moveTimer to 0
        AiFollow Player 0 0 0 0
        set oneTimeMove to 0
      endif
    endif
    
    if ( call == 0 )
    	if ( nc_callrev == 1 )
    		AIWander 0 0 0
    		set call to 1
    	elseif ( nc_callrev == 2 )
    		AIFollow player 0 0 0 0
    		set call to 2
    	elseif ( nc_callrev == 3 )
    		AIWander 500 0 0
    		set call to 3
    	endif
    	if ( nc_callmessage == 0 )
    		set nc_callmessage to 1
    	endif
    endif
    
    if ( nc_callrev == 0 )
    	set call to 0
    endif
    
    if ( travel > 0 )
    	if ( CellChanged == 0 )
    		if ( travel == 1 )
         		AIWander 500 0 0
    			PositionCell -23265.2344, -15409.3721, 556.0000, 0, "Balmora"
    			set travel to 0
    		endif 
    		if ( travel == 2 )
         		AIWander 500 0 0
    			PositionCell -14688.3975, 52477.6445, 2119.9502, 0, "Ald-ruhn"
    			set travel to 0
    		endif 
    		if ( travel == 3 )
         		AIWander 500 0 0
    			PositionCell 48308.0547, -81831.6328, 576.7466, 0, "Vivec"
    			set travel to 0
    		endif 
    		if ( travel == 4 )
         		AIWander 500 0 0
    			PositionCell 105102.6641, -61811.3477, 635.0835, 0, "Molag Mar"
    			set travel to 0
    		endif 
    		if ( travel == 5 )
         		AIWander 500 0 0
    			PositionCell 149019.1250, 29684.0938, 700.0000, 0, "Wolverine Hall"
    			set travel to 0
    		endif 
    		if ( travel == 6 )
         		AIWander 500 0 0
    			PositionCell 98660.6641, 111530.5625, 308.0195, 0, "Vos"
    			set travel to 0
    		endif 
    		if ( travel == 7 )
         		AIWander 500 0 0
    			PositionCell 59803.8828, 183183.3594, 314.2573, 0, "Dagon Fel"
    			set travel to 0
    		endif 
    		if ( travel == 8 )
         		AIWander 500 0 0
    			PositionCell -67142.3594, 139129.8594, 205.1514, 0, "Khuul"
    			set travel to 0
    		endif 
    		if ( travel == 9 )
         		AIWander 500 0 0
    			PositionCell -84440.8203, 92241.1953, 1054.9253, 0, "Gnisis"
    			set travel to 0
    		endif 
    		if ( travel == 10 )
         		AIWander 500 0 0
    			PositionCell 20736.9922, 38396.8008, 1161.2622, 0, "Ghostgate"
    			set travel to 0
    		endif
    		if ( travel == 11 )
         		AIWander 500 0 0
    			PositionCell -5.3433, 2476.1021, 173.3262, 0, "Mournhold, Plaza Brindisi Dorom"
    			set travel to 0
    		endif 
    	endif
    endif
    
    ;AND ABOVE HERE.
    
    ;ADDITIONS CAN ALSO BE ADDED TO THIS FOLLOWING SECTION, BUT BEWARE OF THE COUNTER.
    ;Counter can pooch some functions if they need to be checked every frame.
    
    if ( counter < 20 )
      set counter to counter + 1
      return
    endif
    
    set counter to 0
    
    if ( GetCurrentAIPackage == 3 )
      if ( GetDistance Player < 300 )
        setSpeed 15
        setAthletics 15
      elseif ( GetDistance Player > 300 )
        set c_speed to ( ( Player->GetSpeed ) * 2.25 )
        set c_athletics to ( ( Player->GetAthletics ) * 2.25 )
        setSpeed  c_speed
        setAthletics c_athletics
      endif
    
      if ( GetItemCount p_restore_health_b >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_c >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_e >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_q >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_s >= 1 )
        set p_Check to 1
      else
        set p_Check to 0
      endif
    endif
    
    if ( GetCurrentAIPackage != 3 )
      setspeed 40
    endif
    
    ;ADD ADDITIONAL TOPICS IN THIS SECTION IF REQUIRED.
    
    if ( addOnce == 0 )
      AddTopic "- Бой"
      AddTopic "- Сопровождение"
      AddTopic "- Инструкции"
      ;StartScript 1gr_compLevel
      set companion to 1
      set posession to 1
      set addOnce to 1
    endif
    
    if ( GetItemCount,  "nc_khajiit_skull" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_bonemeal_01" < 25 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_scrap_metal_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_netch_leather_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    endif
    
    ;if ( OnDeath = 1 )
    if ( GetHealth <= 5 )
    	if ( doOnce3 == 0 )
    		PlaySound, "ThunderClap"
    		AddItem "nc_khajiit_pauldron_sk" 1
    		set doOnce3 to 1
    	endif
    	if ( doOnce5 == 0 )
    		if ( GetItemCount "nc_khajiit_pauldron_sk" < 1 )
    			set doOnce5 to 1
    			Disable
    		endif
    	endif
    endif
    
    end

SCPT
SCHD nc_comp3Script_nord 33 0 20 4364 410
SCVR see_f_warlord;see_fr_warlord;see_p_warlord;doOnce;doOnce2;doOnce3;doOnce4;combatDone;weapUse;combatCheck;soundPlayed;flyCheck;wwCheck;oneTimeMove;compMove;c_move;warp;c_marksman;c_speed;c_athletics;companion;nohello;noLore;counter;counter2;addOnce;p_Check;emb_hook_nominion;call;doOnce5;travel;free;posession;ax;ay;bx;by;bz;cx;cy;cz;t1;t2;t3;t4;coDist;coDist2;playz;timer;timer2;sheatheTimer;moveTimer;h_check;;
SCDT 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
SCTX
    begin nc_comp3Script_nord
    
    float ax
    float ay
    float bx
    float by
    float bz
    float cx
    float cy
    float cz
    float t1
    float t2
    float t3
    float t4
    float coDist
    float coDist2
    float playz
    float timer
    float timer2
    float sheatheTimer
    float moveTimer
    float h_check
    short see_f_warlord
    short see_fr_warlord
    short see_p_warlord
    short doOnce
    short doOnce2
    short doOnce3
    short doOnce4
    short combatDone
    short weapUse
    short combatCheck
    short soundPlayed
    short flyCheck
    short wwCheck
    short oneTimeMove
    short compMove
    short c_move
    short warp
    short c_marksman
    short c_speed
    short c_athletics
    short companion
    short nohello
    short noLore
    short counter
    short counter2
    short addOnce
    short p_Check
    short emb_hook_nominion
    short call
    short doOnce5
    short travel
    short free
    short posession
    
    if ( MenuMode == 1 )
      ;if ( GetPCSleep == 0 )
        return
      ;endif
    endif
    
    set emb_hook_nominion to 1
    
    if ( GetDisabled == 1 )
    	set counter2 to ( counter2 + 1 )
    	if ( counter2 < 10 )
    		return
    	endif
    	setdelete 1
    	return
    endif
    
    if ( weapUse == 1 )
      if ( Player->GetWeaponType <= 8 )
        setmarksman 0
      elseif ( weapUse == 1 )
      if ( Player->GetWeaponType >= 9 )
        setmarksman 200
      endif
      endif
    endif
    
    if ( combatCheck == 1 )
      set sheathetimer to sheatheTimer + GetSecondsPassed
      if ( GetSoundPlaying, "Weapon Swish" == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, crossbowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, bowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "Weapon Swish" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "crossbowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "bowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      endif
      endif
      endif
      endif
    endif
    
    if ( soundPlayed == 1 )
      equip "silver dagger"
      removeitem "silver dagger" 1
    ;  messagebox "Working"
      set soundPlayed to 0
      set combatCheck to 0
      set combatDone to 1
    endif
    
    if ( combatDone == 1 )
        set timer to timer + GetSecondsPassed
      if ( timer > 6 )
        set timer to 0
        set combatDone to 0
        set warp to 0
      endif
    endif  
    
    if ( GetCurrentAIPackage == 3 )
      ;if ( GetPCSleep == 1 )
       ; StartScript 1gr_compLevel
      ;endif
    
      if ( GetPCSneaking == 1 )
        ForceSneak
      elseif ( GetPCSneaking == 0 )
        ClearForceSneak
      endif
    
      if ( Player->GetEffect sEffectLevitate == 1 )
      if ( flyCheck == 0 )
        cast nc_comp2_lev_bog player
        addspell nc_comp2_lev
        set flyCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectLevitate == 0 )
      if ( flyCheck == 1 )
        removespell nc_comp2_lev
        set flyCheck to 0
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 1 )
      if ( wwCheck == 0 )
        cast nc_comp2_ww_bog player
        addspell nc_comp2_ww
        set wwCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 0 )
      if ( wwCheck == 1 )
        removespell nc_comp2_ww
        set wwCheck to 0
      endif
      endif
    
      if ( flyCheck == 1 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( Player->GetPos z )
        SetPos z playz
      elseif ( flyCheck == 1 )
      if ( GetCurrentAIPackage != 3 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( GetPos z )
        SetPos z playz
      endif
      endif
      endif
      endif
    
      if ( GetWeaponDrawn == 1 )
      if ( flyCheck == 0 )
        set combatCheck to 1
        set timer to 0
        set warp to 1
        return
      elseif ( GetWeaponDrawn == 1 )
      if ( flyCheck == 1 )
        set combatDone to 1
        set timer to 0
        set warp to 1
        return
      endif
      endif
      endif
    
      set ax to ( Player->GetPos x )
      set ay to ( Player->GetPos y )
    
      if ( doOnce == 0 )
        set bx to ( Player->GetPos x )
        set by to ( Player->GetPos y )
        set bz to ( Player->GetPos z )
        set doOnce to 1
      endif
    
      set t1 to ( ax - bx )
      set t1 to ( t1 * t1 )
      set t2 to ( ay - by )
      set t2 to ( t2 * t2 )
      set t1 to ( t1 + t2 )
      set coDist to ( GetSquareRoot, t1 )
    
      if ( coDist > 360 )
        set doOnce to 0
      endif
    
      if ( coDist > 180 )
      if ( doOnce2 == 0 )
        set cx to ( Player->GetPos x )
        set cy to ( Player->GetPos y )
        set cz to ( Player->GetPos z )
        set doOnce2 to 1
      endif
      endif
    
      set t3 to ( ax - cx )
      set t3 to ( t3 * t3 )
      set t4 to ( ay - cy )
      set t4 to ( t4 * t4 )
      set t3 to ( t3 + t4 )
      set coDist2 to ( GetSquareRoot, t3 )
    
      if ( coDist2 > 360 )
        set doOnce2 to 0
      endif
    
    if ( see_f_warlord == 0 )
    	if ( see_fr_warlord == 0 )
    		if ( see_p_warlord == 0 )
      if ( warp == 0 )
      if ( coDist > 350 )
      if ( GetDistance Player > 680 )
        SetPos x bx
        SetPos y by
        SetPos z bz
        AiFollow Player 0 0 0 0
      elseif ( warp == 0 )
      if ( coDist2 > 350 )
      if ( GetDistance Player > 680 )
        SetPos x cx
        SetPos y cy
        SetPos z cz
        AiFollow Player 0 0 0 0
      endif
      endif
      endif
      endif
      endif
    endif
    endif
    endif
    endif
    
    if ( see_f_warlord == 1 )
    if ( nc_f_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_fr_warlord == 1 )
    if ( nc_fr_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_p_warlord == 1 )
    if ( nc_p_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    ;IF ADDITIONS ARE DESIRED, PLEASE ADD THEM BELOW HERE...
    
    if ( GetCurrentAIPackage == 3 )
      if ( compMove == 1 )
      if ( c_move == 0 )
      if ( GetDistance Player < 70 )
        AIWander 300 0 0 0 0
        set c_move to 1
      endif
      endif
      endif
    endif
    
    if ( c_move == 1 )
      if ( GetDistance Player > 100 )
        AIFollow Player 0 0 0 0
      set c_move to 0
      endif
    endif
    
    if ( oneTimeMove == 1 )
      set moveTimer to moveTimer + GetSecondsPassed
      if ( moveTimer > 4 )
        set moveTimer to 0
        AiFollow Player 0 0 0 0
        set oneTimeMove to 0
      endif
    endif
    
    if ( call == 0 )
    	if ( nc_callrev == 1 )
    		AIWander 0 0 0
    		set call to 1
    	elseif ( nc_callrev == 2 )
    		AIFollow player 0 0 0 0
    		set call to 2
    	elseif ( nc_callrev == 3 )
    		AIWander 500 0 0
    		set call to 3
    	endif
    	if ( nc_callmessage == 0 )
    		set nc_callmessage to 1
    	endif
    endif
    
    if ( nc_callrev == 0 )
    	set call to 0
    endif
    
    if ( travel > 0 )
    	if ( CellChanged == 0 )
    		if ( travel == 1 )
          		AIWander 500 0 0
    			PositionCell -23265.2344, -15409.3721, 556.0000, 0, "Balmora"
    			set travel to 0
    		endif 
    		if ( travel == 2 )
          		AIWander 500 0 0
    			PositionCell -14688.3975, 52477.6445, 2119.9502, 0, "Ald-ruhn"
    			set travel to 0
    		endif 
    		if ( travel == 3 )
          		AIWander 500 0 0
    			PositionCell 48308.0547, -81831.6328, 576.7466, 0, "Vivec"
    			set travel to 0
    		endif 
    		if ( travel == 4 )
          		AIWander 500 0 0
    			PositionCell 105102.6641, -61811.3477, 635.0835, 0, "Molag Mar"
    			set travel to 0
    		endif 
    		if ( travel == 5 )
          		AIWander 500 0 0
    			PositionCell 149019.1250, 29684.0938, 700.0000, 0, "Wolverine Hall"
    			set travel to 0
    		endif 
    		if ( travel == 6 )
          		AIWander 500 0 0
    			PositionCell 98660.6641, 111530.5625, 308.0195, 0, "Vos"
    			set travel to 0
    		endif 
    		if ( travel == 7 )
          		AIWander 500 0 0
    			PositionCell 59803.8828, 183183.3594, 314.2573, 0, "Dagon Fel"
    			set travel to 0
    		endif 
    		if ( travel == 8 )
          		AIWander 500 0 0
    			PositionCell -67142.3594, 139129.8594, 205.1514, 0, "Khuul"
    			set travel to 0
    		endif 
    		if ( travel == 9 )
          		AIWander 500 0 0
    			PositionCell -84440.8203, 92241.1953, 1054.9253, 0, "Gnisis"
    			set travel to 0
    		endif 
    		if ( travel == 10 )
          		AIWander 500 0 0
    			PositionCell 20736.9922, 38396.8008, 1161.2622, 0, "Ghostgate"
    			set travel to 0
    		endif
    		if ( travel == 11 )
          		AIWander 500 0 0
    			PositionCell -5.3433, 2476.1021, 173.3262, 0, "Mournhold, Plaza Brindisi Dorom"
    			set travel to 0
    		endif 
    	endif
    endif
    
    ;AND ABOVE HERE.
    
    ;ADDITIONS CAN ALSO BE ADDED TO THIS FOLLOWING SECTION, BUT BEWARE OF THE COUNTER.
    ;Counter can pooch some functions if they need to be checked every frame.
    
    if ( counter < 20 )
      set counter to counter + 1
      return
    endif
    
    set counter to 0
    
    if ( GetCurrentAIPackage == 3 )
      if ( GetDistance Player < 300 )
        setSpeed 15
        setAthletics 15
      elseif ( GetDistance Player > 300 )
        set c_speed to ( ( Player->GetSpeed ) * 2.25 )
        set c_athletics to ( ( Player->GetAthletics ) * 2.25 )
        setSpeed  c_speed
        setAthletics c_athletics
      endif
    
      if ( GetItemCount p_restore_health_b >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_c >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_e >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_q >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_s >= 1 )
        set p_Check to 1
      else
        set p_Check to 0
      endif
    endif
    
    if ( GetCurrentAIPackage != 3 )
      setspeed 40
    endif
    
    ;ADD ADDITIONAL TOPICS IN THIS SECTION IF REQUIRED.
    
    if ( addOnce == 0 )
      AddTopic "- Бой"
      AddTopic "- Сопровождение"
      AddTopic "- Инструкции"
      ;StartScript 1gr_compLevel
      set companion to 1
      set posession to 1
      set addOnce to 1
    endif
    
    if ( GetItemCount,  "nc_nord_skull" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_bonemeal_01" < 30 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_scrap_metal_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_netch_leather_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    endif
    
    ;if ( OnDeath = 1 )
    if ( GetHealth <= 5 )
    	if ( doOnce3 == 0 )
    		PlaySound, "ThunderClap"
    		AddItem "nc_nord_pauldron_sk" 1
    		set doOnce3 to 1
    	endif
    	if ( doOnce5 == 0 )
    		if ( GetItemCount "nc_nord_pauldron_sk" < 1 )
    			set doOnce5 to 1
    			Disable
    		endif
    	endif
    endif
    
    end

SCPT
SCHD nc_comp3Script_orc 33 0 20 4361 410
SCVR see_f_warlord;see_fr_warlord;see_p_warlord;doOnce;doOnce2;doOnce3;doOnce4;combatDone;weapUse;combatCheck;soundPlayed;flyCheck;wwCheck;oneTimeMove;compMove;c_move;warp;c_marksman;c_speed;c_athletics;companion;nohello;noLore;counter;counter2;addOnce;p_Check;emb_hook_nominion;call;doOnce5;travel;free;posession;ax;ay;bx;by;bz;cx;cy;cz;t1;t2;t3;t4;coDist;coDist2;playz;timer;timer2;sheatheTimer;moveTimer;h_check;;
SCDT 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
SCTX
    begin nc_comp3Script_orc
    
    float ax
    float ay
    float bx
    float by
    float bz
    float cx
    float cy
    float cz
    float t1
    float t2
    float t3
    float t4
    float coDist
    float coDist2
    float playz
    float timer
    float timer2
    float sheatheTimer
    float moveTimer
    float h_check
    short see_f_warlord
    short see_fr_warlord
    short see_p_warlord
    short doOnce
    short doOnce2
    short doOnce3
    short doOnce4
    short combatDone
    short weapUse
    short combatCheck
    short soundPlayed
    short flyCheck
    short wwCheck
    short oneTimeMove
    short compMove
    short c_move
    short warp
    short c_marksman
    short c_speed
    short c_athletics
    short companion
    short nohello
    short noLore
    short counter
    short counter2
    short addOnce
    short p_Check
    short emb_hook_nominion
    short call
    short doOnce5
    short travel
    short free
    short posession
    
    if ( MenuMode == 1 )
      ;if ( GetPCSleep == 0 )
        return
      ;endif
    endif
    
    set emb_hook_nominion to 1
    
    if ( GetDisabled == 1 )
    	set counter2 to ( counter2 + 1 )
    	if ( counter2 < 10 )
    		return
    	endif
    	setdelete 1
    	return
    endif
    
    if ( weapUse == 1 )
      if ( Player->GetWeaponType <= 8 )
        setmarksman 0
      elseif ( weapUse == 1 )
      if ( Player->GetWeaponType >= 9 )
        setmarksman 200
      endif
      endif
    endif
    
    if ( combatCheck == 1 )
      set sheathetimer to sheatheTimer + GetSecondsPassed
      if ( GetSoundPlaying, "Weapon Swish" == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, crossbowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, bowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "Weapon Swish" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "crossbowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "bowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      endif
      endif
      endif
      endif
    endif
    
    if ( soundPlayed == 1 )
      equip "silver dagger"
      removeitem "silver dagger" 1
    ;  messagebox "Working"
      set soundPlayed to 0
      set combatCheck to 0
      set combatDone to 1
    endif
    
    if ( combatDone == 1 )
        set timer to timer + GetSecondsPassed
      if ( timer > 6 )
        set timer to 0
        set combatDone to 0
        set warp to 0
      endif
    endif  
    
    if ( GetCurrentAIPackage == 3 )
      ;if ( GetPCSleep == 1 )
       ; StartScript 1gr_compLevel
      ;endif
    
      if ( GetPCSneaking == 1 )
        ForceSneak
      elseif ( GetPCSneaking == 0 )
        ClearForceSneak
      endif
    
      if ( Player->GetEffect sEffectLevitate == 1 )
      if ( flyCheck == 0 )
        cast nc_comp2_lev_bog player
        addspell nc_comp2_lev
        set flyCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectLevitate == 0 )
      if ( flyCheck == 1 )
        removespell nc_comp2_lev
        set flyCheck to 0
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 1 )
      if ( wwCheck == 0 )
        cast nc_comp2_ww_bog player
        addspell nc_comp2_ww
        set wwCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 0 )
      if ( wwCheck == 1 )
        removespell nc_comp2_ww
        set wwCheck to 0
      endif
      endif
    
      if ( flyCheck == 1 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( Player->GetPos z )
        SetPos z playz
      elseif ( flyCheck == 1 )
      if ( GetCurrentAIPackage != 3 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( GetPos z )
        SetPos z playz
      endif
      endif
      endif
      endif
    
      if ( GetWeaponDrawn == 1 )
      if ( flyCheck == 0 )
        set combatCheck to 1
        set timer to 0
        set warp to 1
        return
      elseif ( GetWeaponDrawn == 1 )
      if ( flyCheck == 1 )
        set combatDone to 1
        set timer to 0
        set warp to 1
        return
      endif
      endif
      endif
    
      set ax to ( Player->GetPos x )
      set ay to ( Player->GetPos y )
    
      if ( doOnce == 0 )
        set bx to ( Player->GetPos x )
        set by to ( Player->GetPos y )
        set bz to ( Player->GetPos z )
        set doOnce to 1
      endif
    
      set t1 to ( ax - bx )
      set t1 to ( t1 * t1 )
      set t2 to ( ay - by )
      set t2 to ( t2 * t2 )
      set t1 to ( t1 + t2 )
      set coDist to ( GetSquareRoot, t1 )
    
      if ( coDist > 360 )
        set doOnce to 0
      endif
    
      if ( coDist > 180 )
      if ( doOnce2 == 0 )
        set cx to ( Player->GetPos x )
        set cy to ( Player->GetPos y )
        set cz to ( Player->GetPos z )
        set doOnce2 to 1
      endif
      endif
    
      set t3 to ( ax - cx )
      set t3 to ( t3 * t3 )
      set t4 to ( ay - cy )
      set t4 to ( t4 * t4 )
      set t3 to ( t3 + t4 )
      set coDist2 to ( GetSquareRoot, t3 )
    
      if ( coDist2 > 360 )
        set doOnce2 to 0
      endif
    
    if ( see_f_warlord == 0 )
    	if ( see_fr_warlord == 0 )
    		if ( see_p_warlord == 0 )
      if ( warp == 0 )
      if ( coDist > 350 )
      if ( GetDistance Player > 680 )
        SetPos x bx
        SetPos y by
        SetPos z bz
        AiFollow Player 0 0 0 0
      elseif ( warp == 0 )
      if ( coDist2 > 350 )
      if ( GetDistance Player > 680 )
        SetPos x cx
        SetPos y cy
        SetPos z cz
        AiFollow Player 0 0 0 0
      endif
      endif
      endif
      endif
      endif
    endif
    endif
    endif
    endif
    
    if ( see_f_warlord == 1 )
    if ( nc_f_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_fr_warlord == 1 )
    if ( nc_fr_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_p_warlord == 1 )
    if ( nc_p_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    ;IF ADDITIONS ARE DESIRED, PLEASE ADD THEM BELOW HERE...
    
    if ( GetCurrentAIPackage == 3 )
      if ( compMove == 1 )
      if ( c_move == 0 )
      if ( GetDistance Player < 70 )
        AIWander 300 0 0 0 0
        set c_move to 1
      endif
      endif
      endif
    endif
    
    if ( c_move == 1 )
      if ( GetDistance Player > 100 )
        AIFollow Player 0 0 0 0
      set c_move to 0
      endif
    endif
    
    if ( oneTimeMove == 1 )
      set moveTimer to moveTimer + GetSecondsPassed
      if ( moveTimer > 4 )
        set moveTimer to 0
        AiFollow Player 0 0 0 0
        set oneTimeMove to 0
      endif
    endif
    
    if ( call == 0 )
    	if ( nc_callrev == 1 )
    		AIWander 0 0 0
    		set call to 1
    	elseif ( nc_callrev == 2 )
    		AIFollow player 0 0 0 0
    		set call to 2
    	elseif ( nc_callrev == 3 )
    		AIWander 500 0 0
    		set call to 3
    	endif
    	if ( nc_callmessage == 0 )
    		set nc_callmessage to 1
    	endif
    endif
    
    if ( nc_callrev == 0 )
    	set call to 0
    endif
    
    if ( travel > 0 )
    	if ( CellChanged == 0 )
    		if ( travel == 1 )
          		AIWander 500 0 0
    			PositionCell -23265.2344, -15409.3721, 556.0000, 0, "Balmora"
    			set travel to 0
    		endif 
    		if ( travel == 2 )
          		AIWander 500 0 0
    			PositionCell -14688.3975, 52477.6445, 2119.9502, 0, "Ald-ruhn"
    			set travel to 0
    		endif 
    		if ( travel == 3 )
          		AIWander 500 0 0
    			PositionCell 48308.0547, -81831.6328, 576.7466, 0, "Vivec"
    			set travel to 0
    		endif 
    		if ( travel == 4 )
          		AIWander 500 0 0
    			PositionCell 105102.6641, -61811.3477, 635.0835, 0, "Molag Mar"
    			set travel to 0
    		endif 
    		if ( travel == 5 )
          		AIWander 500 0 0
    			PositionCell 149019.1250, 29684.0938, 700.0000, 0, "Wolverine Hall"
    			set travel to 0
    		endif 
    		if ( travel == 6 )
          		AIWander 500 0 0
    			PositionCell 98660.6641, 111530.5625, 308.0195, 0, "Vos"
    			set travel to 0
    		endif 
    		if ( travel == 7 )
          		AIWander 500 0 0
    			PositionCell 59803.8828, 183183.3594, 314.2573, 0, "Dagon Fel"
    			set travel to 0
    		endif 
    		if ( travel == 8 )
          		AIWander 500 0 0
    			PositionCell -67142.3594, 139129.8594, 205.1514, 0, "Khuul"
    			set travel to 0
    		endif 
    		if ( travel == 9 )
          		AIWander 500 0 0
    			PositionCell -84440.8203, 92241.1953, 1054.9253, 0, "Gnisis"
    			set travel to 0
    		endif 
    		if ( travel == 10 )
          		AIWander 500 0 0
    			PositionCell 20736.9922, 38396.8008, 1161.2622, 0, "Ghostgate"
    			set travel to 0
    		endif
    		if ( travel == 11 )
          		AIWander 500 0 0
    			PositionCell -5.3433, 2476.1021, 173.3262, 0, "Mournhold, Plaza Brindisi Dorom"
    			set travel to 0
    		endif 
    	endif
    endif
    
    ;AND ABOVE HERE.
    
    ;ADDITIONS CAN ALSO BE ADDED TO THIS FOLLOWING SECTION, BUT BEWARE OF THE COUNTER.
    ;Counter can pooch some functions if they need to be checked every frame.
    
    if ( counter < 20 )
      set counter to counter + 1
      return
    endif
    
    set counter to 0
    
    if ( GetCurrentAIPackage == 3 )
      if ( GetDistance Player < 300 )
        setSpeed 15
        setAthletics 15
      elseif ( GetDistance Player > 300 )
        set c_speed to ( ( Player->GetSpeed ) * 2.25 )
        set c_athletics to ( ( Player->GetAthletics ) * 2.25 )
        setSpeed  c_speed
        setAthletics c_athletics
      endif
    
      if ( GetItemCount p_restore_health_b >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_c >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_e >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_q >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_s >= 1 )
        set p_Check to 1
      else
        set p_Check to 0
      endif
    endif
    
    if ( GetCurrentAIPackage != 3 )
      setspeed 40
    endif
    
    ;ADD ADDITIONAL TOPICS IN THIS SECTION IF REQUIRED.
    
    if ( addOnce == 0 )
      AddTopic "- Бой"
      AddTopic "- Сопровождение"
      AddTopic "- Инструкции"
      ;StartScript 1gr_compLevel
      set companion to 1
      set posession to 1
      set addOnce to 1
    endif
    
    if ( GetItemCount,  "nc_orc_skull" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_bonemeal_01" < 30 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_scrap_metal_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_netch_leather_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    endif
    
    ;if ( OnDeath = 1 )
    if ( GetHealth <= 5 )
    	if ( doOnce3 == 0 )
    		PlaySound, "ThunderClap"
    		AddItem "nc_orc_pauldron_sk" 1
    		set doOnce3 to 1
    	endif
    	if ( doOnce5 == 0 )
    		if ( GetItemCount "nc_orc_pauldron_sk" < 1 )
    			set doOnce5 to 1
    			Disable
    		endif
    	endif
    endif
    
    end

SCPT
SCHD nc_comp3Script_rg 33 0 20 4364 410
SCVR see_f_warlord;see_fr_warlord;see_p_warlord;doOnce;doOnce2;doOnce3;doOnce4;combatDone;weapUse;combatCheck;soundPlayed;flyCheck;wwCheck;oneTimeMove;compMove;c_move;warp;c_marksman;c_speed;c_athletics;companion;nohello;noLore;counter;counter2;addOnce;p_Check;emb_hook_nominion;call;doOnce5;travel;free;posession;ax;ay;bx;by;bz;cx;cy;cz;t1;t2;t3;t4;coDist;coDist2;playz;timer;timer2;sheatheTimer;moveTimer;h_check;;
SCDT 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
SCTX
    begin nc_comp3Script_rg
    
    float ax
    float ay
    float bx
    float by
    float bz
    float cx
    float cy
    float cz
    float t1
    float t2
    float t3
    float t4
    float coDist
    float coDist2
    float playz
    float timer
    float timer2
    float sheatheTimer
    float moveTimer
    float h_check
    short see_f_warlord
    short see_fr_warlord
    short see_p_warlord
    short doOnce
    short doOnce2
    short doOnce3
    short doOnce4
    short combatDone
    short weapUse
    short combatCheck
    short soundPlayed
    short flyCheck
    short wwCheck
    short oneTimeMove
    short compMove
    short c_move
    short warp
    short c_marksman
    short c_speed
    short c_athletics
    short companion
    short nohello
    short noLore
    short counter
    short counter2
    short addOnce
    short p_Check
    short emb_hook_nominion
    short call
    short doOnce5
    short travel
    short free
    short posession
    
    if ( MenuMode == 1 )
      ;if ( GetPCSleep == 0 )
        return
      ;endif
    endif
    
    set emb_hook_nominion to 1
    
    if ( GetDisabled == 1 )
    	set counter2 to ( counter2 + 1 )
    	if ( counter2 < 10 )
    		return
    	endif
    	setdelete 1
    	return
    endif
    
    if ( weapUse == 1 )
      if ( Player->GetWeaponType <= 8 )
        setmarksman 0
      elseif ( weapUse == 1 )
      if ( Player->GetWeaponType >= 9 )
        setmarksman 200
      endif
      endif
    endif
    
    if ( combatCheck == 1 )
      set sheathetimer to sheatheTimer + GetSecondsPassed
      if ( GetSoundPlaying, "Weapon Swish" == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, crossbowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, bowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "Weapon Swish" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "crossbowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "bowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      endif
      endif
      endif
      endif
    endif
    
    if ( soundPlayed == 1 )
      equip "silver dagger"
      removeitem "silver dagger" 1
    ;  messagebox "Working"
      set soundPlayed to 0
      set combatCheck to 0
      set combatDone to 1
    endif
    
    if ( combatDone == 1 )
        set timer to timer + GetSecondsPassed
      if ( timer > 6 )
        set timer to 0
        set combatDone to 0
        set warp to 0
      endif
    endif  
    
    if ( GetCurrentAIPackage == 3 )
      ;if ( GetPCSleep == 1 )
       ; StartScript 1gr_compLevel
      ;endif
    
      if ( GetPCSneaking == 1 )
        ForceSneak
      elseif ( GetPCSneaking == 0 )
        ClearForceSneak
      endif
    
      if ( Player->GetEffect sEffectLevitate == 1 )
      if ( flyCheck == 0 )
        cast nc_comp2_lev_bog player
        addspell nc_comp2_lev
        set flyCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectLevitate == 0 )
      if ( flyCheck == 1 )
        removespell nc_comp2_lev
        set flyCheck to 0
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 1 )
      if ( wwCheck == 0 )
        cast nc_comp2_ww_bog player
        addspell nc_comp2_ww
        set wwCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 0 )
      if ( wwCheck == 1 )
        removespell nc_comp2_ww
        set wwCheck to 0
      endif
      endif
    
      if ( flyCheck == 1 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( Player->GetPos z )
        SetPos z playz
      elseif ( flyCheck == 1 )
      if ( GetCurrentAIPackage != 3 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( GetPos z )
        SetPos z playz
      endif
      endif
      endif
      endif
    
      if ( GetWeaponDrawn == 1 )
      if ( flyCheck == 0 )
        set combatCheck to 1
        set timer to 0
        set warp to 1
        return
      elseif ( GetWeaponDrawn == 1 )
      if ( flyCheck == 1 )
        set combatDone to 1
        set timer to 0
        set warp to 1
        return
      endif
      endif
      endif
    
      set ax to ( Player->GetPos x )
      set ay to ( Player->GetPos y )
    
      if ( doOnce == 0 )
        set bx to ( Player->GetPos x )
        set by to ( Player->GetPos y )
        set bz to ( Player->GetPos z )
        set doOnce to 1
      endif
    
      set t1 to ( ax - bx )
      set t1 to ( t1 * t1 )
      set t2 to ( ay - by )
      set t2 to ( t2 * t2 )
      set t1 to ( t1 + t2 )
      set coDist to ( GetSquareRoot, t1 )
    
      if ( coDist > 360 )
        set doOnce to 0
      endif
    
      if ( coDist > 180 )
      if ( doOnce2 == 0 )
        set cx to ( Player->GetPos x )
        set cy to ( Player->GetPos y )
        set cz to ( Player->GetPos z )
        set doOnce2 to 1
      endif
      endif
    
      set t3 to ( ax - cx )
      set t3 to ( t3 * t3 )
      set t4 to ( ay - cy )
      set t4 to ( t4 * t4 )
      set t3 to ( t3 + t4 )
      set coDist2 to ( GetSquareRoot, t3 )
    
      if ( coDist2 > 360 )
        set doOnce2 to 0
      endif
    
    if ( see_f_warlord == 0 )
    	if ( see_fr_warlord == 0 )
    		if ( see_p_warlord == 0 )
      if ( warp == 0 )
      if ( coDist > 350 )
      if ( GetDistance Player > 680 )
        SetPos x bx
        SetPos y by
        SetPos z bz
        AiFollow Player 0 0 0 0
      elseif ( warp == 0 )
      if ( coDist2 > 350 )
      if ( GetDistance Player > 680 )
        SetPos x cx
        SetPos y cy
        SetPos z cz
        AiFollow Player 0 0 0 0
      endif
      endif
      endif
      endif
      endif
    endif
    endif
    endif
    endif
    
    if ( see_f_warlord == 1 )
    if ( nc_f_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_fr_warlord == 1 )
    if ( nc_fr_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_p_warlord == 1 )
    if ( nc_p_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    ;IF ADDITIONS ARE DESIRED, PLEASE ADD THEM BELOW HERE...
    
    if ( GetCurrentAIPackage == 3 )
      if ( compMove == 1 )
      if ( c_move == 0 )
      if ( GetDistance Player < 70 )
        AIWander 300 0 0 0 0
        set c_move to 1
      endif
      endif
      endif
    endif
    
    if ( c_move == 1 )
      if ( GetDistance Player > 100 )
        AIFollow Player 0 0 0 0
      set c_move to 0
      endif
    endif
    
    if ( oneTimeMove == 1 )
      set moveTimer to moveTimer + GetSecondsPassed
      if ( moveTimer > 4 )
        set moveTimer to 0
        AiFollow Player 0 0 0 0
        set oneTimeMove to 0
      endif
    endif
    
    if ( call == 0 )
    	if ( nc_callrev == 1 )
    		AIWander 0 0 0
    		set call to 1
    	elseif ( nc_callrev == 2 )
    		AIFollow player 0 0 0 0
    		set call to 2
    	elseif ( nc_callrev == 3 )
    		AIWander 500 0 0
    		set call to 3
    	endif
    	if ( nc_callmessage == 0 )
    		set nc_callmessage to 1
    	endif
    endif
    
    if ( nc_callrev == 0 )
    	set call to 0
    endif
    
    if ( travel > 0 )
    	if ( CellChanged == 0 )
    		if ( travel == 1 )
       		     AIWander 500 0 0
    			PositionCell -23265.2344, -15409.3721, 556.0000, 0, "Balmora"
    			set travel to 0
    		endif 
    		if ( travel == 2 )
       		     AIWander 500 0 0
    			PositionCell -14688.3975, 52477.6445, 2119.9502, 0, "Ald-ruhn"
    			set travel to 0
    		endif 
    		if ( travel == 3 )
       		     AIWander 500 0 0
    			PositionCell 48308.0547, -81831.6328, 576.7466, 0, "Vivec"
    			set travel to 0
    		endif 
    		if ( travel == 4 )
       		     AIWander 500 0 0
    			PositionCell 105102.6641, -61811.3477, 635.0835, 0, "Molag Mar"
    			set travel to 0
    		endif 
    		if ( travel == 5 )
       		     AIWander 500 0 0
    			PositionCell 149019.1250, 29684.0938, 700.0000, 0, "Wolverine Hall"
    			set travel to 0
    		endif 
    		if ( travel == 6 )
       		     AIWander 500 0 0
    			PositionCell 98660.6641, 111530.5625, 308.0195, 0, "Vos"
    			set travel to 0
    		endif 
    		if ( travel == 7 )
       		     AIWander 500 0 0
    			PositionCell 59803.8828, 183183.3594, 314.2573, 0, "Dagon Fel"
    			set travel to 0
    		endif 
    		if ( travel == 8 )
       		     AIWander 500 0 0
    			PositionCell -67142.3594, 139129.8594, 205.1514, 0, "Khuul"
    			set travel to 0
    		endif 
    		if ( travel == 9 )
       		     AIWander 500 0 0
    			PositionCell -84440.8203, 92241.1953, 1054.9253, 0, "Gnisis"
    			set travel to 0
    		endif 
    		if ( travel == 10 )
       		     AIWander 500 0 0
    			PositionCell 20736.9922, 38396.8008, 1161.2622, 0, "Ghostgate"
    			set travel to 0
    		endif
    		if ( travel == 11 )
       		     AIWander 500 0 0
    			PositionCell -5.3433, 2476.1021, 173.3262, 0, "Mournhold, Plaza Brindisi Dorom"
    			set travel to 0
    		endif 
    	endif
    endif
    
    ;AND ABOVE HERE.
    
    ;ADDITIONS CAN ALSO BE ADDED TO THIS FOLLOWING SECTION, BUT BEWARE OF THE COUNTER.
    ;Counter can pooch some functions if they need to be checked every frame.
    
    if ( counter < 20 )
      set counter to counter + 1
      return
    endif
    
    set counter to 0
    
    if ( GetCurrentAIPackage == 3 )
      if ( GetDistance Player < 300 )
        setSpeed 15
        setAthletics 15
      elseif ( GetDistance Player > 300 )
        set c_speed to ( ( Player->GetSpeed ) * 2.25 )
        set c_athletics to ( ( Player->GetAthletics ) * 2.25 )
        setSpeed  c_speed
        setAthletics c_athletics
      endif
    
      if ( GetItemCount p_restore_health_b >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_c >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_e >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_q >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_s >= 1 )
        set p_Check to 1
      else
        set p_Check to 0
      endif
    endif
    
    if ( GetCurrentAIPackage != 3 )
      setspeed 40
    endif
    
    ;ADD ADDITIONAL TOPICS IN THIS SECTION IF REQUIRED.
    
    if ( addOnce == 0 )
      AddTopic "- Бой"
      AddTopic "- Сопровождение"
      AddTopic "- Инструкции"
      ;StartScript 1gr_compLevel
      set companion to 1
      set posession to 1
      set addOnce to 1
    endif
    
    if ( GetItemCount,  "nc_redguard_skull" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_bonemeal_01" < 25 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_scrap_metal_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_netch_leather_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    endif
    
    ;if ( OnDeath = 1 )
    if ( GetHealth <= 5 )
    	if ( doOnce3 == 0 )
    		PlaySound, "ThunderClap"
    		AddItem "nc_rg_pauldron_sk" 1
    		set doOnce3 to 1
    	endif
    	if ( doOnce5 == 0 )
    		if ( GetItemCount "nc_rg_pauldron_sk" < 1 )
    			set doOnce5 to 1
    			Disable
    		endif
    	endif
    endif
    
    end

SCPT
SCHD nc_comp3Script_we 33 0 20 4370 410
SCVR see_f_warlord;see_fr_warlord;see_p_warlord;doOnce;doOnce2;doOnce3;doOnce4;combatDone;weapUse;combatCheck;soundPlayed;flyCheck;wwCheck;oneTimeMove;compMove;c_move;warp;c_marksman;c_speed;c_athletics;companion;nohello;noLore;counter;counter2;addOnce;p_Check;emb_hook_nominion;call;doOnce5;travel;free;posession;ax;ay;bx;by;bz;cx;cy;cz;t1;t2;t3;t4;coDist;coDist2;playz;timer;timer2;sheatheTimer;moveTimer;h_check;;
SCDT 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
SCTX
    begin nc_comp3Script_we
    
    float ax
    float ay
    float bx
    float by
    float bz
    float cx
    float cy
    float cz
    float t1
    float t2
    float t3
    float t4
    float coDist
    float coDist2
    float playz
    float timer
    float timer2
    float sheatheTimer
    float moveTimer
    float h_check
    short see_f_warlord
    short see_fr_warlord
    short see_p_warlord
    short doOnce
    short doOnce2
    short doOnce3
    short doOnce4
    short combatDone
    short weapUse
    short combatCheck
    short soundPlayed
    short flyCheck
    short wwCheck
    short oneTimeMove
    short compMove
    short c_move
    short warp
    short c_marksman
    short c_speed
    short c_athletics
    short companion
    short nohello
    short noLore
    short counter
    short counter2
    short addOnce
    short p_Check
    short emb_hook_nominion
    short call
    short doOnce5
    short travel
    short free
    short posession
    
    if ( MenuMode == 1 )
      ;if ( GetPCSleep == 0 )
        return
      ;endif
    endif
    
    set emb_hook_nominion to 1
    
    if ( GetDisabled == 1 )
    	set counter2 to ( counter2 + 1 )
    	if ( counter2 < 10 )
    		return
    	endif
    	setdelete 1
    	return
    endif
    
    if ( weapUse == 1 )
      if ( Player->GetWeaponType <= 8 )
        setmarksman 0
      elseif ( weapUse == 1 )
      if ( Player->GetWeaponType >= 9 )
        setmarksman 200
      endif
      endif
    endif
    
    if ( combatCheck == 1 )
      set sheathetimer to sheatheTimer + GetSecondsPassed
      if ( GetSoundPlaying, "Weapon Swish" == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, crossbowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( GetSoundPlaying, bowShoot == 1 )
        set sheatheTimer to 0
        return
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "Weapon Swish" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "crossbowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      elseif ( sheatheTimer > 4 )
      if ( GetSoundPlaying "bowShoot" == 0 )
        set sheatheTimer to 0
        set soundPlayed to 1
      endif
      endif
      endif
      endif
    endif
    
    if ( soundPlayed == 1 )
      equip "silver dagger"
      removeitem "silver dagger" 1
    ;  messagebox "Working"
      set soundPlayed to 0
      set combatCheck to 0
      set combatDone to 1
    endif
    
    if ( combatDone == 1 )
        set timer to timer + GetSecondsPassed
      if ( timer > 6 )
        set timer to 0
        set combatDone to 0
        set warp to 0
      endif
    endif  
    
    if ( GetCurrentAIPackage == 3 )
      ;if ( GetPCSleep == 1 )
       ; StartScript 1gr_compLevel
      ;endif
    
      if ( GetPCSneaking == 1 )
        ForceSneak
      elseif ( GetPCSneaking == 0 )
        ClearForceSneak
      endif
    
      if ( Player->GetEffect sEffectLevitate == 1 )
      if ( flyCheck == 0 )
        cast nc_comp2_lev_bog player
        addspell nc_comp2_lev
        set flyCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectLevitate == 0 )
      if ( flyCheck == 1 )
        removespell nc_comp2_lev
        set flyCheck to 0
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 1 )
      if ( wwCheck == 0 )
        cast nc_comp2_ww_bog player
        addspell nc_comp2_ww
        set wwCheck to 1
      endif
      endif
    
      if ( Player->GetEffect sEffectWaterWalking == 0 )
      if ( wwCheck == 1 )
        removespell nc_comp2_ww
        set wwCheck to 0
      endif
      endif
    
      if ( flyCheck == 1 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( Player->GetPos z )
        SetPos z playz
      elseif ( flyCheck == 1 )
      if ( GetCurrentAIPackage != 3 )
      if ( GetWeaponDrawn == 0 )
        set playz to ( GetPos z )
        SetPos z playz
      endif
      endif
      endif
      endif
    
      if ( GetWeaponDrawn == 1 )
      if ( flyCheck == 0 )
        set combatCheck to 1
        set timer to 0
        set warp to 1
        return
      elseif ( GetWeaponDrawn == 1 )
      if ( flyCheck == 1 )
        set combatDone to 1
        set timer to 0
        set warp to 1
        return
      endif
      endif
      endif
    
      set ax to ( Player->GetPos x )
      set ay to ( Player->GetPos y )
    
      if ( doOnce == 0 )
        set bx to ( Player->GetPos x )
        set by to ( Player->GetPos y )
        set bz to ( Player->GetPos z )
        set doOnce to 1
      endif
    
      set t1 to ( ax - bx )
      set t1 to ( t1 * t1 )
      set t2 to ( ay - by )
      set t2 to ( t2 * t2 )
      set t1 to ( t1 + t2 )
      set coDist to ( GetSquareRoot, t1 )
    
      if ( coDist > 360 )
        set doOnce to 0
      endif
    
      if ( coDist > 180 )
      if ( doOnce2 == 0 )
        set cx to ( Player->GetPos x )
        set cy to ( Player->GetPos y )
        set cz to ( Player->GetPos z )
        set doOnce2 to 1
      endif
      endif
    
      set t3 to ( ax - cx )
      set t3 to ( t3 * t3 )
      set t4 to ( ay - cy )
      set t4 to ( t4 * t4 )
      set t3 to ( t3 + t4 )
      set coDist2 to ( GetSquareRoot, t3 )
    
      if ( coDist2 > 360 )
        set doOnce2 to 0
      endif
    
    if ( see_f_warlord == 0 )
    	if ( see_fr_warlord == 0 )
    		if ( see_p_warlord == 0 )
      if ( warp == 0 )
      if ( coDist > 350 )
      if ( GetDistance Player > 680 )
        SetPos x bx
        SetPos y by
        SetPos z bz
        AiFollow Player 0 0 0 0
      elseif ( warp == 0 )
      if ( coDist2 > 350 )
      if ( GetDistance Player > 680 )
        SetPos x cx
        SetPos y cy
        SetPos z cz
        AiFollow Player 0 0 0 0
      endif
      endif
      endif
      endif
      endif
    endif
    endif
    endif
    endif
    
    if ( see_f_warlord == 1 )
    if ( nc_f_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_fr_warlord == 1 )
    if ( nc_fr_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    
    if ( see_p_warlord == 1 )
    if ( nc_p_follow == 0 )
    	set warp to 1
    else
    	set warp to 0
    endif
    endif
    ;IF ADDITIONS ARE DESIRED, PLEASE ADD THEM BELOW HERE...
    
    if ( GetCurrentAIPackage == 3 )
      if ( compMove == 1 )
      if ( c_move == 0 )
      if ( GetDistance Player < 70 )
        AIWander 300 0 0 0 0
        set c_move to 1
      endif
      endif
      endif
    endif
    
    if ( c_move == 1 )
      if ( GetDistance Player > 100 )
        AIFollow Player 0 0 0 0
      set c_move to 0
      endif
    endif
    
    if ( oneTimeMove == 1 )
      set moveTimer to moveTimer + GetSecondsPassed
      if ( moveTimer > 4 )
        set moveTimer to 0
        AiFollow Player 0 0 0 0
        set oneTimeMove to 0
      endif
    endif
    
    if ( call == 0 )
    	if ( nc_callrev == 1 )
    		AIWander 0 0 0
    		set call to 1
    	elseif ( nc_callrev == 2 )
    		AIFollow player 0 0 0 0
    		set call to 2
    	elseif ( nc_callrev == 3 )
    		AIWander 500 0 0
    		set call to 3
    	endif
    	if ( nc_callmessage == 0 )
    		set nc_callmessage to 1
    	endif
    endif
    
    if ( nc_callrev == 0 )
    	set call to 0
    endif
    
    if ( travel > 0 )
    	if ( CellChanged == 0 )
    		if ( travel == 1 )
       		     AIWander 500 0 0
    			PositionCell -23265.2344, -15409.3721, 556.0000, 0, "Balmora"
    			set travel to 0
    		endif 
    		if ( travel == 2 )
       		     AIWander 500 0 0
    			PositionCell -14688.3975, 52477.6445, 2119.9502, 0, "Ald-ruhn"
    			set travel to 0
    		endif 
    		if ( travel == 3 )
       		     AIWander 500 0 0
    			PositionCell 48308.0547, -81831.6328, 576.7466, 0, "Vivec"
    			set travel to 0
    		endif 
    		if ( travel == 4 )
       		     AIWander 500 0 0
    			PositionCell 105102.6641, -61811.3477, 635.0835, 0, "Molag Mar"
    			set travel to 0
    		endif 
    		if ( travel == 5 )
       		     AIWander 500 0 0
    			PositionCell 149019.1250, 29684.0938, 700.0000, 0, "Wolverine Hall"
    			set travel to 0
    		endif 
    		if ( travel == 6 )
       		     AIWander 500 0 0
    			PositionCell 98660.6641, 111530.5625, 308.0195, 0, "Vos"
    			set travel to 0
    		endif 
    		if ( travel == 7 )
       		     AIWander 500 0 0
    			PositionCell 59803.8828, 183183.3594, 314.2573, 0, "Dagon Fel"
    			set travel to 0
    		endif 
    		if ( travel == 8 )
       		     AIWander 500 0 0
    			PositionCell -67142.3594, 139129.8594, 205.1514, 0, "Khuul"
    			set travel to 0
    		endif 
    		if ( travel == 9 )
       		     AIWander 500 0 0
    			PositionCell -84440.8203, 92241.1953, 1054.9253, 0, "Gnisis"
    			set travel to 0
    		endif 
    		if ( travel == 10 )
       		     AIWander 500 0 0
    			PositionCell 20736.9922, 38396.8008, 1161.2622, 0, "Ghostgate"
    			set travel to 0
    		endif
    		if ( travel == 11 )
       		     AIWander 500 0 0
    			PositionCell -5.3433, 2476.1021, 173.3262, 0, "Mournhold, Plaza Brindisi Dorom"
    			set travel to 0
    		endif 
    	endif
    endif
    
    ;AND ABOVE HERE.
    
    ;ADDITIONS CAN ALSO BE ADDED TO THIS FOLLOWING SECTION, BUT BEWARE OF THE COUNTER.
    ;Counter can pooch some functions if they need to be checked every frame.
    
    if ( counter < 20 )
      set counter to counter + 1
      return
    endif
    
    set counter to 0
    
    if ( GetCurrentAIPackage == 3 )
      if ( GetDistance Player < 300 )
        setSpeed 15
        setAthletics 15
      elseif ( GetDistance Player > 300 )
        set c_speed to ( ( Player->GetSpeed ) * 2.25 )
        set c_athletics to ( ( Player->GetAthletics ) * 2.25 )
        setSpeed  c_speed
        setAthletics c_athletics
      endif
    
      if ( GetItemCount p_restore_health_b >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_c >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_e >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_q >= 1 )
        set p_Check to 1
      elseif ( GetItemCount p_restore_health_s >= 1 )
        set p_Check to 1
      else
        set p_Check to 0
      endif
    endif
    
    if ( GetCurrentAIPackage != 3 )
      setspeed 40
    endif
    
    ;ADD ADDITIONAL TOPICS IN THIS SECTION IF REQUIRED.
    
    if ( addOnce == 0 )
      AddTopic "- Бой"
      AddTopic "- Сопровождение"
      AddTopic "- Инструкции"
      ;StartScript 1gr_compLevel
      set companion to 1
      set posession to 1
      set addOnce to 1
    endif
    
    if ( GetItemCount,  "nc_bosmer_skull" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_bonemeal_01" < 20 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_scrap_metal_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    elseif ( GetItemCount,  "ingred_netch_leather_01" < 1 )
    	if ( doOnce4 == 0 )
    		MessageBox "Чары распались."
    		sethealth 0
    		set doOnce4 to 1
    	endif
    endif
    
    ;if ( OnDeath = 1 )
    if ( GetHealth <= 5 )
    	if ( doOnce3 == 0 )
    		PlaySound, "ThunderClap"
    		AddItem "nc_bosmer_pauldron_sk" 1
    		set doOnce3 to 1
    	endif
    	if ( doOnce5 == 0 )
    		if ( GetItemCount "nc_bosmer_pauldron_sk" < 1 )
    			set doOnce5 to 1
    			Disable
    		endif
    	endif
    endif
    
    end
